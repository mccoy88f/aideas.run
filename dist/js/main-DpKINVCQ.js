const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/main-material-wY4sU8AU.js","js/vendor-Cc5w31rP.js","js/debug-DXW6LU4k.js","js/main-BwEhj7GX.js","js/jszip.min-DqeJd0pR.js"])))=>i.map(i=>d[i]);
import{D as A}from"./vendor-Cc5w31rP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const L="modulepreload",I=function(s){return"/"+s},v={},y=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let l=function(i){return Promise.all(i.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=n?.nonce||n?.getAttribute("nonce");a=l(t.map(i=>{if(i=I(i),i in v)return;v[i]=!0;const d=i.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":L,d||(p.as="script"),p.crossOrigin="",p.href=i,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})}))}function o(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return a.then(n=>{for(const c of n||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};class h{constructor(){if(h.instance)return h.instance;this.db=new A("AIdeas_DB"),this.initDatabase(),h.instance=this}initDatabase(){this.db.version(1).stores({apps:"++id, name, description, category, version, url, type, githubUrl, installDate, lastUsed, favorite, *tags",appFiles:"++id, appId, filename, content, size, mimeType",settings:"key, value, lastModified",syncEvents:"++id, timestamp, action, data, synced, deviceId",catalog:"++id, name, description, author, githubUrl, rating, downloads, featured, *categories"}),this.db.apps.hook("creating",(e,t,r)=>{t.installDate=t.installDate||new Date,t.lastUsed=t.lastUsed||new Date,t.favorite=t.favorite||!1,t.tags=t.tags||[]}),this.db.syncEvents.hook("creating",(e,t,r)=>{t.timestamp=t.timestamp||new Date,t.synced=t.synced||!1,t.deviceId=t.deviceId||this.getDeviceId()})}async installApp(e){try{const t={name:e.name,description:e.description||"",category:e.category||"uncategorized",version:e.version||"1.0.0",url:e.url||null,type:e.type,githubUrl:e.githubUrl||null,icon:e.icon||null,manifest:e.manifest||{},permissions:e.permissions||[],tags:e.tags||[],metadata:e.metadata||{},content:e.content||null},r=await this.db.apps.add(t);return e.files&&e.files.length>0&&await this.saveAppFiles(r,e.files),await this.addSyncEvent("app_installed",{appId:r,app:t}),r}catch(t){throw console.error("Errore installazione app:",t),new Error(`Impossibile installare l'app: ${t.message}`)}}async getAllApps(e={}){try{let t=this.db.apps.orderBy("lastUsed").reverse();return e.category&&(t=t.filter(r=>r.category===e.category)),e.search&&(t=t.filter(r=>r.name.toLowerCase().includes(e.search.toLowerCase())||r.description.toLowerCase().includes(e.search.toLowerCase())||r.tags.some(a=>a.toLowerCase().includes(e.search.toLowerCase())))),e.favorite&&(t=t.filter(r=>r.favorite===!0)),await t.toArray()}catch(t){return console.error("Errore recupero app:",t),[]}}async getApp(e){try{return await this.db.apps.get(e)}catch(t){return console.error("Errore recupero app:",t),null}}async updateApp(e,t){try{return await this.db.apps.update(e,t),await this.addSyncEvent("app_updated",{appId:e,updates:t}),!0}catch(r){return console.error("Errore aggiornamento app:",r),!1}}async setAppMetadata(e,t){try{const r=await this.getApp(e);if(!r)throw new Error("App non trovata");const a={...r.metadata,...t};return await this.db.apps.update(e,{metadata:a}),console.log(`âœ… Metadati aggiornati per app ${e}:`,t),!0}catch(r){return console.error("Errore aggiornamento metadati app:",r),!1}}async getAppMetadata(e,t=null){try{const r=await this.getApp(e);return!r||!r.metadata?null:t?r.metadata[t]||null:r.metadata}catch(r){return console.error("Errore recupero metadati app:",r),null}}async migrateAppsForContent(){try{console.log("ðŸ”„ Inizio migrazione app HTML...");const e=await this.db.apps.toArray();console.log(`ðŸ“Š Trovate ${e.length} app totali`);let t=0;for(const r of e)if(console.log(`ðŸ” Controllo app: ${r.name} (tipo: ${r.type})`),r.type==="html"&&!r.content){console.log(`ðŸ“ App HTML senza contenuto trovata: ${r.name}`);const a=await this.getAppFiles(r.id);console.log(`ðŸ“ Trovati ${a.length} file per app ${r.name}`);const o=a.find(n=>n.filename.endsWith(".html"));o?(console.log(`âœ… File HTML trovato: ${o.filename}`),await this.db.apps.update(r.id,{content:o.content}),t++,console.log(`âœ… App ${r.name} migrata con successo`)):console.log(`âš ï¸ Nessun file HTML trovato per app ${r.name}`)}return t>0?console.log(`âœ… Migrate ${t} app HTML per aggiungere campo content`):console.log("â„¹ï¸ Nessuna app HTML da migrare"),t}catch(e){return console.error("âŒ Errore migrazione app:",e),console.error("Stack trace:",e.stack),0}}async deleteApp(e){try{return await this.db.transaction("rw",[this.db.apps,this.db.appFiles],async()=>{await this.db.apps.delete(e),await this.db.appFiles.where("appId").equals(e).delete()}),await this.addSyncEvent("app_deleted",{appId:e}),!0}catch(t){return console.error("Errore eliminazione app:",t),!1}}async updateLastUsed(e){try{await this.db.apps.update(e,{lastUsed:new Date})}catch(t){console.error("Errore aggiornamento ultimo utilizzo:",t)}}async toggleFavorite(e){try{const t=await this.db.apps.get(e);return t?(await this.db.apps.update(e,{favorite:!t.favorite}),!t.favorite):!1}catch(t){return console.error("Errore toggle preferito:",t),!1}}async saveAppFiles(e,t){try{const r=t.map(a=>this.db.appFiles.add({appId:e,filename:a.filename,content:a.content,size:a.size||a.content.length,mimeType:a.mimeType||this.getMimeType(a.filename)}));return await Promise.all(r),!0}catch(r){return console.error("Errore salvataggio file app:",r),!1}}async getAppFiles(e){try{return await this.db.appFiles.where("appId").equals(e).toArray()}catch(t){return console.error("Errore recupero file app:",t),[]}}async getSetting(e,t=null){try{const r=await this.db.settings.get(e);return r?r.value:t}catch(r){return console.error("Errore recupero impostazione:",r),t}}async setSetting(e,t){try{return await this.db.settings.put({key:e,value:t,lastModified:new Date}),!0}catch(r){return console.error("Errore salvataggio impostazione:",r),!1}}async getAllSettings(){try{const e=await this.db.settings.toArray(),t={};return e.forEach(r=>{t[r.key]=r.value}),t}catch(e){return console.error("Errore recupero impostazioni:",e),{}}}async setAllSettings(e){try{const t=[];for(const[r,a]of Object.entries(e))t.push(this.db.settings.put({key:r,value:a,lastModified:new Date}));return await Promise.all(t),!0}catch(t){return console.error("Errore salvataggio impostazioni:",t),!1}}async addSyncEvent(e,t){try{await this.db.syncEvents.add({action:e,data:t,timestamp:new Date,synced:!1,deviceId:await this.getDeviceId()})}catch(r){console.error("Errore aggiunta evento sync:",r)}}async getUnsyncedEvents(){try{return await this.db.syncEvents.where("synced").equals(!1).toArray()}catch(e){return console.error("Errore recupero eventi non sincronizzati:",e),[]}}async markEventsSynced(e){try{await this.db.syncEvents.where("id").anyOf(e).modify({synced:!0})}catch(t){console.error("Errore aggiornamento eventi sync:",t)}}async updateCatalog(e){try{return await this.db.catalog.clear(),await this.db.catalog.bulkAdd(e),!0}catch(t){return console.error("Errore aggiornamento catalogo:",t),!1}}async searchCatalog(e,t={}){try{let r=this.db.catalog.orderBy("downloads").reverse();return e&&(r=r.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase())||a.categories.some(o=>o.toLowerCase().includes(e.toLowerCase())))),t.category&&(r=r.filter(a=>a.categories.includes(t.category))),t.featured&&(r=r.filter(a=>a.featured===!0)),await r.limit(t.limit||50).toArray()}catch(r){return console.error("Errore ricerca catalogo:",r),[]}}async getDeviceId(){let e=await this.getSetting("deviceId");return e||(e="device_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),await this.setSetting("deviceId",e)),e}getMimeType(e){const t=e.split(".").pop().toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",svg:"image/svg+xml",txt:"text/plain"}[t]||"application/octet-stream"}async exportAllData(){try{const[e,t,r]=await Promise.all([this.db.apps.toArray(),this.db.settings.toArray(),this.db.syncEvents.toArray()]);return{version:"1.0.0",timestamp:new Date().toISOString(),deviceId:await this.getDeviceId(),data:{apps:e,settings:t,syncEvents:r}}}catch(e){throw console.error("Errore export dati:",e),e}}async importData(e){try{if(!e.data)throw new Error("Formato dati non valido");const{apps:t,settings:r,syncEvents:a}=e.data;return await this.db.transaction("rw",[this.db.apps,this.db.settings,this.db.syncEvents],async()=>{t&&await this.db.apps.bulkPut(t),r&&await this.db.settings.bulkPut(r),a&&await this.db.syncEvents.bulkPut(a)}),!0}catch(t){throw console.error("Errore import dati:",t),t}}async ensureDbOpen(){if(!this.db.isOpen())try{await this.db.open(),console.log("ðŸ“‚ Database riaperto con successo")}catch(e){console.error("âŒ Errore riapertura database:",e)}}async getStats(){try{if(await this.ensureDbOpen(),!this.db||!this.db.isOpen())return console.warn("Database non inizializzato"),null;const t=(await this.db.apps.toArray().catch(()=>[])).filter(i=>i&&typeof i=="object"),r=t.map(i=>i.category).filter(i=>typeof i=="string"&&i.length>0),a=t.filter(i=>i.favorite===!0).length,o=t.length,n=await this.db.appFiles.count().catch(()=>0),c=await this.db.settings.count().catch(()=>0),l=t.length>0?t.reduce((i,d)=>d.installDate&&(!i||new Date(d.installDate)>new Date(i))?d.installDate:i,null):null;return{totalApps:o,totalFiles:n,settingsCount:c,favoriteApps:a,categories:Array.from(new Set(r)).length,lastInstall:l,dbSize:await this.estimateDbSize()}}catch(e){return console.error("Errore recupero statistiche:",e),null}}async estimateDbSize(){try{return"storage"in navigator&&"estimate"in navigator.storage&&(await navigator.storage.estimate()).usage||0}catch{return 0}}async close(){this.db&&this.db.close()}}const f=new h,D=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));let z=0;function w(s,e="info",t=4e3,r={}){const a=document.getElementById("toast-container");if(!a){console.warn("Toast container non trovato");return}const o=`toast-${++z}`,n=document.createElement("div");n.id=o,n.className=`toast toast-${e}`,n.setAttribute("role","alert"),n.setAttribute("aria-live","polite");const c={success:`<svg viewBox="0 0 24 24" fill="currentColor">
      <path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"/>
    </svg>`,error:`<svg viewBox="0 0 24 24" fill="currentColor">
      <path d="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
    </svg>`,warning:`<svg viewBox="0 0 24 24" fill="currentColor">
      <path d="M13,13H11V7H13M12,17.3A1.3,1.3 0 0,1 10.7,16A1.3,1.3 0 0,1 12,14.7A1.3,1.3 0 0,1 13.3,16A1.3,1.3 0 0,1 12,17.3M15.73,3H8.27L3,8.27V15.73L8.27,21H15.73L21,15.73V8.27L15.73,3Z"/>
    </svg>`,info:`<svg viewBox="0 0 24 24" fill="currentColor">
      <path d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
    </svg>`};n.innerHTML=`
    <div class="toast-icon">
      ${c[e]||c.info}
    </div>
    <div class="toast-content">
      <div class="toast-message">${U(s)}</div>
      ${r.action?`<button class="toast-action">${r.action}</button>`:""}
    </div>
    <button class="toast-close" aria-label="Chiudi notifica">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
      </svg>
    </button>
  `;const l=n.querySelector(".toast-close"),i=n.querySelector(".toast-action"),d=()=>{n.classList.add("toast-removing"),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},300)};return l.addEventListener("click",d),i&&r.onAction&&i.addEventListener("click",()=>{r.onAction(),d()}),a.appendChild(n),requestAnimationFrame(()=>{n.classList.add("toast-show")}),t>0&&setTimeout(d,t),o}function S(s){const e=document.getElementById(s);e&&e.querySelector(".toast-close").click()}function C(){document.querySelectorAll(".toast").forEach(e=>{e.querySelector(".toast-close").click()})}function P(s){s?S(s):C()}function x(s,e,t={}){const r=document.getElementById("modals-container");if(!r){console.warn("Modals container non trovato");return}const a=document.getElementById(s);a&&a.remove();const o=document.createElement("div");o.id=s,o.className="modal",o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),o.setAttribute("aria-labelledby",`${s}-title`),o.innerHTML=`
    <div class="modal-backdrop"></div>
    <div class="modal-dialog ${t.size||"modal-md"}">
      <div class="modal-content">
        ${e}
      </div>
    </div>
  `;const n=o.querySelector(".modal-backdrop"),c=o.querySelectorAll(".modal-close"),l=u=>{u&&u.preventDefault(),o.classList.add("modal-closing"),setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o),t.returnFocus&&t.returnFocus.focus()},300)};t.disableBackdropClose||n.addEventListener("click",l),c.forEach(u=>{u.addEventListener("click",l)});const i=u=>{u.key==="Escape"&&!t.disableEscapeClose&&(l(),document.removeEventListener("keydown",i))};document.addEventListener("keydown",i);const d=document.activeElement;return t.returnFocus=d,r.appendChild(o),requestAnimationFrame(()=>{o.classList.add("modal-show");const u=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');u.length>0&&u[0].focus()}),o}function F(s){const e=document.getElementById(s);if(e){const t=e.querySelector(".modal-close");t&&t.click()}}function U(s){const e=document.createElement("div");return e.textContent=s,e.innerHTML}function H(s,e=2){if(s===0)return"0 Bytes";const t=1024,r=e<0?0:e,a=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,o)).toFixed(r))+" "+a[o]}function O(s){const e=new Date(s);if(isNaN(e.getTime()))return"Data non valida";const r=new Date-e,a=Math.floor(r/1e3),o=Math.floor(a/60),n=Math.floor(o/60),c=Math.floor(n/24),l=Math.floor(c/7),i=Math.floor(c/30),d=Math.floor(c/365);return a<60?"Proprio ora":o<60?`${o} minut${o===1?"o":"i"} fa`:n<24?`${n} or${n===1?"a":"e"} fa`:c<7?`${c} giorn${c===1?"o":"i"} fa`:l<4?`${l} settiman${l===1?"a":"e"} fa`:i<12?`${i} mes${i===1?"e":"i"} fa`:`${d} ann${d===1?"o":"i"} fa`}function _(s="id"){return`${s}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`}function $(){return window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function T(){return"serviceWorker"in navigator&&"manifests"in window}function q(){return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,online:navigator.onLine,cookieEnabled:navigator.cookieEnabled,screen:{width:screen.width,height:screen.height,colorDepth:screen.colorDepth},viewport:{width:window.innerWidth,height:window.innerHeight},isMobile:$(),isPWASupported:T()}}function V(s){try{return new URL(s),!0}catch{return!1}}function N(s){try{return new URL(s).hostname}catch{return""}}function k(s={}){return new Promise(e=>{const{title:t="Conferma",message:r="Sei sicuro di voler continuare?",icon:a="question",confirmText:o="Conferma",cancelText:n="Annulla",type:c="default"}=s,l=document.createElement("div");l.className="confirm-popup";const i={question:`<svg viewBox="0 0 24 24" fill="currentColor" class="confirm-popup-icon">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
      </svg>`,warning:`<svg viewBox="0 0 24 24" fill="currentColor" class="confirm-popup-icon">
        <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
      </svg>`,danger:`<svg viewBox="0 0 24 24" fill="currentColor" class="confirm-popup-icon">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>`,info:`<svg viewBox="0 0 24 24" fill="currentColor" class="confirm-popup-icon">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
      </svg>`},d=i[a]||i.question,u=c==="danger"?"confirm-popup-btn-danger":"confirm-popup-btn-primary";l.innerHTML=`
      <div class="confirm-popup-content">
        <div class="confirm-popup-header">
          <h3 class="confirm-popup-title">
            ${d}
            ${t}
          </h3>
        </div>
        <div class="confirm-popup-body">
          ${r}
        </div>
        <div class="confirm-popup-footer">
          <button class="confirm-popup-btn confirm-popup-btn-secondary" data-action="cancel">
            ${n}
          </button>
          <button class="confirm-popup-btn ${u}" data-action="confirm">
            ${o}
          </button>
        </div>
      </div>
    `;const p=m=>{document.body.removeChild(l),e(m==="confirm")};l.addEventListener("click",m=>{m.target===l&&p("cancel")}),l.querySelectorAll("[data-action]").forEach(m=>{m.addEventListener("click",M=>{M.preventDefault(),p(m.dataset.action)})});const g=m=>{m.key==="Escape"&&(document.removeEventListener("keydown",g),p("cancel"))};document.addEventListener("keydown",g),document.body.appendChild(l),setTimeout(()=>{l.querySelector(".confirm-popup-btn-secondary").focus()},100)})}function W(s){return k({title:"Elimina App",message:`Sei sicuro di voler eliminare "${s}"? Questa azione non puÃ² essere annullata.`,icon:"danger",confirmText:"Elimina",cancelText:"Annulla",type:"danger"})}class E{constructor(){this.uiMode="auto",this.fallbackAttempted=!1,this.loadingTimeout=null}async init(){try{console.log("ðŸŽ¨ Inizializzazione UI Loader..."),await f.ensureDbOpen(),this.uiMode=await f.getSetting("uiMode","auto"),console.log(`ðŸ“± ModalitÃ  UI configurata: ${this.uiMode}`);const e=await this.determineTargetUI();await this.loadUI(e)}catch(e){console.error("âŒ Errore inizializzazione UI Loader:",e),await this.loadVanillaUI()}}async determineTargetUI(){switch(this.uiMode){case"vanilla":return"vanilla";case"material":return"material";case"auto":default:return await this.detectBestUI()}}async detectBestUI(){return console.log("ðŸ” Rilevamento automatico UI..."),await this.checkMaterialUISupport()?(console.log("âœ… Material UI supportato, tentativo di caricamento..."),"material"):(console.log("âš ï¸ Material UI non supportato, uso vanilla"),"vanilla")}async checkMaterialUISupport(){try{return window.import?await this.testModuleImport("react")?await this.testModuleImport("@mui/material")?!0:(console.log("âŒ Material UI non disponibile"),!1):(console.log("âŒ React non disponibile"),!1):(console.log("âŒ ES6 modules non supportati"),!1)}catch(e){return console.log("âŒ Errore verifica Material UI:",e),!1}}async testModuleImport(e){try{const t=new Promise((a,o)=>{setTimeout(()=>o(new Error("Timeout")),3e3)}),r=import(e);return await Promise.race([r,t]),!0}catch{return!1}}async loadUI(e){console.log(`ðŸš€ Caricamento UI: ${e}`);try{e==="material"?await this.loadMaterialUI():await this.loadVanillaUI()}catch(t){console.error(`âŒ Errore caricamento ${e} UI:`,t),!this.fallbackAttempted&&e==="material"?(console.log("ðŸ”„ Tentativo fallback su vanilla..."),this.fallbackAttempted=!0,await this.handleFallback()):await this.loadVanillaUI()}}async loadMaterialUI(){if(console.log("ðŸŽ¨ Caricamento Material UI..."),window.aideasMaterialUIInitialized){console.log("âš ï¸ Material UI giÃ  inizializzato, skip");return}this.loadingTimeout=setTimeout(()=>{throw new Error("Timeout caricamento Material UI")},1e4);try{console.log("ðŸ“¦ Importazione modulo Material UI...");const{initializeAIdeasWithMaterialUI:e}=await y(async()=>{const{initializeAIdeasWithMaterialUI:t}=await import("./main-material-wY4sU8AU.js");return{initializeAIdeasWithMaterialUI:t}},__vite__mapDeps([0,1,2]));console.log("ðŸ”§ Funzione di inizializzazione ottenuta:",typeof e),console.log("ðŸš€ Avvio inizializzazione Material UI..."),e(),window.aideasMaterialUIInitialized=!0,clearTimeout(this.loadingTimeout),console.log("âœ… Material UI caricata con successo"),this.hideLoadingScreen()}catch(e){throw clearTimeout(this.loadingTimeout),console.error("âŒ Errore durante caricamento Material UI:",e),e}}async loadVanillaUI(){console.log("ðŸŽ¨ Caricamento Vanilla UI...");try{const{default:e}=await y(async()=>{const{default:r}=await import("./main-BwEhj7GX.js");return{default:r}},__vite__mapDeps([3,1,4,2])),t=new e;window.aideasApp=t,await t.init(),console.log("âœ… Vanilla UI caricata con successo"),this.hideLoadingScreen()}catch(e){throw console.error("âŒ Errore caricamento Vanilla UI:",e),e}}async handleFallback(){try{console.log("ðŸ”„ Esecuzione fallback su Vanilla UI..."),await f.setSetting("uiMode","vanilla"),w("Material UI non disponibile, passaggio a interfaccia classica","info"),await this.loadVanillaUI()}catch(e){console.error("âŒ Errore durante fallback:",e),await this.loadVanillaUI()}}hideLoadingScreen(){try{const e=document.getElementById("loading-screen");e&&(e.style.display="none",console.log("ðŸŽ¯ Loading screen nascosto"))}catch(e){console.error("âŒ Errore nascondere loading screen:",e)}}async changeUIMode(e){try{console.log(`ðŸ”„ Cambio modalitÃ  UI da ${this.uiMode} a ${e}`),await f.setSetting("uiMode",e),this.uiMode=e,window.location.reload()}catch(t){console.error("âŒ Errore cambio modalitÃ  UI:",t),w("Errore durante il cambio di interfaccia","error")}}}window.UILoader=E;const b=new E;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>b.init()):b.init();export{f as S,y as _,F as a,x as b,k as c,N as d,U as e,H as f,_ as g,P as h,V as i,O as j,q as k,W as l,D as m,w as s};
//# sourceMappingURL=main-DpKINVCQ.js.map
