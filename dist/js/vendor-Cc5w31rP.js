function si(Jt){return Jt&&Jt.__esModule&&Object.prototype.hasOwnProperty.call(Jt,"default")?Jt.default:Jt}var wn={exports:{}},ui=wn.exports,Br;function ci(){return Br||(Br=1,function(Jt,kn){(function(C,Z){Jt.exports=Z()})(ui,function(){var C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])})(t,e)},Z=function(){return(Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function F(t,e,n){for(var r,a=0,s=e.length;a<s;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}var m=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,d=Object.keys,u=Array.isArray;function y(t,e){return typeof e!="object"||d(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||m.Promise||(m.Promise=Promise);var E=Object.getPrototypeOf,T={}.hasOwnProperty;function x(t,e){return T.call(t,e)}function O(t,e){typeof e=="function"&&(e=e(E(t))),(typeof Reflect>"u"?d:Reflect.ownKeys)(e).forEach(function(n){_(t,n,e[n])})}var l=Object.defineProperty;function _(t,e,n,r){l(t,e,y(n&&x(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function c(t){return{from:function(e){return t.prototype=Object.create(e.prototype),_(t.prototype,"constructor",t),{extend:O.bind(null,t.prototype)}}}}var v=Object.getOwnPropertyDescriptor,h=[].slice;function w(t,e,n){return h.call(t,e,n)}function B(t,e){return e(t)}function L(t){if(!t)throw new Error("Assertion Failed")}function U(t){m.setImmediate?setImmediate(t):setTimeout(t,0)}function et(t,e){if(typeof e=="string"&&x(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,a=e.length;r<a;++r){var s=et(t,e[r]);n.push(s)}return n}var f=e.indexOf(".");if(f!==-1){var b=t[e.substr(0,f)];return b==null?void 0:et(b,e.substr(f+1))}}function X(t,e,n){if(t&&e!==void 0&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){L(typeof n!="string"&&"length"in n);for(var r=0,a=e.length;r<a;++r)X(t,e[r],n[r])}else{var s,f,b=e.indexOf(".");b!==-1?(s=e.substr(0,b),(f=e.substr(b+1))===""?n===void 0?u(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n:X(b=!(b=t[s])||!x(t,s)?t[s]={}:b,f,n)):n===void 0?u(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function st(t){var e,n={};for(e in t)x(t,e)&&(n[e]=t[e]);return n}var Q=[].concat;function ht(t){return Q.apply([],t)}var St="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ht([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return m[t]}),Ct=new Set(St.map(function(t){return m[t]})),S=null;function $(t){return S=new WeakMap,t=function e(n){if(!n||typeof n!="object")return n;var r=S.get(n);if(r)return r;if(u(n)){r=[],S.set(n,r);for(var a=0,s=n.length;a<s;++a)r.push(e(n[a]))}else if(Ct.has(n.constructor))r=n;else{var f,b=E(n);for(f in r=b===Object.prototype?{}:Object.create(b),S.set(n,r),n)x(n,f)&&(r[f]=e(n[f]))}return r}(t),S=null,t}var o={}.toString;function nt(t){return o.call(t).slice(8,-1)}var At=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ot=typeof At=="symbol"?function(t){var e;return t!=null&&(e=t[At])&&e.apply(t)}:function(){return null};function It(t,e){return e=t.indexOf(e),0<=e&&t.splice(e,1),0<=e}var at={};function Ot(t){var e,n,r,a;if(arguments.length===1){if(u(t))return t.slice();if(this===at&&typeof t=="string")return[t];if(a=ot(t)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)!="number")return[t];for(n=new Array(e);e--;)n[e]=t[e];return n}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var V=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ft=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ce=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ft),W={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Et(t,e){this.name=t,this.message=e}function _t(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,a){return a.indexOf(n)===r}).join(`
`)}function mt(t,e,n,r){this.failures=e,this.failedKeys=r,this.successCount=n,this.message=_t(t,e)}function Ut(t,e){this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=_t(t,this.failures)}c(Et).from(Error).extend({toString:function(){return this.name+": "+this.message}}),c(mt).from(Et),c(Ut).from(Et);var Vt=ce.reduce(function(t,e){return t[e]=e+"Error",t},{}),jt=Et,pt=ce.reduce(function(t,e){var n=e+"Error";function r(a,s){this.name=n,a?typeof a=="string"?(this.message="".concat(a).concat(s?`
 `+s:""),this.inner=s||null):typeof a=="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a):(this.message=W[e]||n,this.inner=null)}return c(r).from(jt),t[e]=r,t},{});pt.Syntax=SyntaxError,pt.Type=TypeError,pt.Range=RangeError;var Zt=ft.reduce(function(t,e){return t[e+"Error"]=pt[e],t},{}),Lt=ce.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=pt[e]),t},{});function Bt(){}function Qt(t){return t}function i(t,e){return t==null||t===Qt?e:function(n){return e(t(n))}}function J(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Y(t,e){return t===Bt?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),a&&(this.onerror=this.onerror?J(a,this.onerror):a),s!==void 0?s:n}}function g(t,e){return t===Bt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&&(this.onerror=this.onerror?J(r,this.onerror):r)}}function p(t,e){return t===Bt?e:function(n){var r=t.apply(this,arguments);y(n,r);var a=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,n=e.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?J(a,this.onsuccess):a),s&&(this.onerror=this.onerror?J(s,this.onerror):s),r===void 0?n===void 0?void 0:n:y(r,n)}}function j(t,e){return t===Bt?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function it(t,e){return t===Bt?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,a=arguments.length,s=new Array(a);a--;)s[a]=arguments[a];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}Lt.ModifyError=mt,Lt.DexieError=Et,Lt.BulkError=Ut;var rt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function M(t){rt=t}var ut={},wt=100,St=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,E(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,E(e),t]}(),ft=St[0],ce=St[1],St=St[2],ce=ce&&ce.then,Nt=ft&&ft.constructor,Tt=!!St,Yt=function(t,e){ve.push([t,e]),re&&(queueMicrotask(Fr),re=!1)},he=!0,re=!0,ae=[],Mt=[],ye=Qt,ue={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Bt,pgp:!1,env:{},finalize:Bt},kt=ue,ve=[],de=0,Be=[];function bt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var e=this._PSD=kt;if(typeof t!="function"){if(t!==ut)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&be(this,this._value))}this._state=null,this._value=null,++e.ref,function n(r,a){try{a(function(s){if(r._state===null){if(s===r)throw new TypeError("A promise cannot be resolved with itself.");var f=r._lib&&Re();s&&typeof s.then=="function"?n(r,function(b,A){s instanceof bt?s._then(b,A):s.then(b,A)}):(r._state=!0,r._value=s,nr(r)),f&&De()}},be.bind(null,r))}catch(s){be(r,s)}}(this,t)}var Te={get:function(){var t=kt,e=Je;function n(r,a){var s=this,f=!t.global&&(t!==kt||e!==Je),b=f&&!we(),A=new bt(function(P,D){xn(s,new ge(ir(r,t,f,b),ir(a,t,f,b),P,D,t))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return n.prototype=ut,n},set:function(t){_(this,"then",t&&t.prototype===ut?Te:{get:function(){return t},set:Te.set})}};function ge(t,e,n,r,a){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=a}function be(t,e){var n,r;Mt.push(e),t._state===null&&(n=t._lib&&Re(),e=ye(e),t._state=!1,t._value=e,r=t,ae.some(function(a){return a._value===r._value})||ae.push(r),nr(t),n&&De())}function nr(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)xn(t,e[n]);var a=t._PSD;--a.ref||a.finalize(),de===0&&(++de,Yt(function(){--de==0&&Sn()},[]))}function xn(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++de,Yt(jr,[n,t,e])}else t._listeners.push(e)}function jr(t,e,n){try{var r,a=e._value;!e._state&&Mt.length&&(Mt=[]),r=rt&&e._consoleTask?e._consoleTask.run(function(){return t(a)}):t(a),e._state||Mt.indexOf(a)!==-1||function(s){for(var f=ae.length;f;)if(ae[--f]._value===s._value)return ae.splice(f,1)}(e),n.resolve(r)}catch(s){n.reject(s)}finally{--de==0&&Sn(),--n.psd.ref||n.psd.finalize()}}function Fr(){Oe(ue,function(){Re()&&De()})}function Re(){var t=he;return re=he=!1,t}function De(){var t,e,n;do for(;0<ve.length;)for(t=ve,ve=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(0<ve.length);re=he=!0}function Sn(){var t=ae;ae=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Be.slice(0),n=e.length;n;)e[--n]()}function Xe(t){return new bt(ut,!1,t)}function Wt(t,e){var n=kt;return function(){var r=Re(),a=kt;try{return ke(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{ke(a,!1),r&&De()}}}O(bt.prototype,{then:Te,_then:function(t,e){xn(this,new ge(null,null,t,e,kt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=t,n=arguments[1];return typeof e=="function"?this.then(null,function(r){return(r instanceof e?n:Xe)(r)}):this.then(null,function(r){return(r&&r.name===e?n:Xe)(r)})},finally:function(t){return this.then(function(e){return bt.resolve(t()).then(function(){return e})},function(e){return bt.resolve(t()).then(function(){return Xe(e)})})},timeout:function(t,e){var n=this;return t<1/0?new bt(function(r,a){var s=setTimeout(function(){return a(new pt.Timeout(e))},t);n.then(r,a).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(bt.prototype,Symbol.toStringTag,"Dexie.Promise"),ue.env=rr(),O(bt,{all:function(){var t=Ot.apply(null,arguments).map(tn);return new bt(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(a,s){return bt.resolve(a).then(function(f){t[s]=f,--r||e(t)},n)})})},resolve:function(t){return t instanceof bt?t:t&&typeof t.then=="function"?new bt(function(e,n){t.then(e,n)}):new bt(ut,!0,t)},reject:Xe,race:function(){var t=Ot.apply(null,arguments).map(tn);return new bt(function(e,n){t.map(function(r){return bt.resolve(r).then(e,n)})})},PSD:{get:function(){return kt},set:function(t){return kt=t}},totalEchoes:{get:function(){return Je}},newPSD:_e,usePSD:Oe,scheduler:{get:function(){return Yt},set:function(t){Yt=t}},rejectionMapper:{get:function(){return ye},set:function(t){ye=t}},follow:function(t,e){return new bt(function(n,r){return _e(function(a,s){var f=kt;f.unhandleds=[],f.onunhandled=s,f.finalize=J(function(){var b,A=this;b=function(){A.unhandleds.length===0?a():s(A.unhandleds[0])},Be.push(function P(){b(),Be.splice(Be.indexOf(P),1)}),++de,Yt(function(){--de==0&&Sn()},[])},f.finalize),t()},e,n,r)})}}),Nt&&(Nt.allSettled&&_(bt,"allSettled",function(){var t=Ot.apply(null,arguments).map(tn);return new bt(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(a,s){return bt.resolve(a).then(function(f){return r[s]={status:"fulfilled",value:f}},function(f){return r[s]={status:"rejected",reason:f}}).then(function(){return--n||e(r)})})})}),Nt.any&&typeof AggregateError<"u"&&_(bt,"any",function(){var t=Ot.apply(null,arguments).map(tn);return new bt(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,a=new Array(r);t.forEach(function(s,f){return bt.resolve(s).then(function(b){return e(b)},function(b){a[f]=b,--r||n(new AggregateError(a))})})})}),Nt.withResolvers&&(bt.withResolvers=Nt.withResolvers));var Xt={awaits:0,echoes:0,id:0},Nr=0,$e=[],Qe=0,Je=0,Kr=0;function _e(t,e,n,r){var a=kt,s=Object.create(a);return s.parent=a,s.ref=0,s.global=!1,s.id=++Kr,ue.env,s.env=Tt?{Promise:bt,PromiseProp:{value:bt,configurable:!0,writable:!0},all:bt.all,race:bt.race,allSettled:bt.allSettled,any:bt.any,resolve:bt.resolve,reject:bt.reject}:{},e&&y(s,e),++a.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Oe(s,t,n,r),s.ref===0&&s.finalize(),r}function je(){return Xt.id||(Xt.id=++Nr),++Xt.awaits,Xt.echoes+=wt,Xt.id}function we(){return!!Xt.awaits&&(--Xt.awaits==0&&(Xt.id=0),Xt.echoes=Xt.awaits*wt,!0)}function tn(t){return Xt.echoes&&t&&t.constructor===Nt?(je(),t.then(function(e){return we(),e},function(e){return we(),Ht(e)})):t}function Ur(){var t=$e[$e.length-1];$e.pop(),ke(t,!1)}function ke(t,e){var n,r=kt;(e?!Xt.echoes||Qe++&&t===kt:!Qe||--Qe&&t===kt)||queueMicrotask(e?function(a){++Je,Xt.echoes&&--Xt.echoes!=0||(Xt.echoes=Xt.awaits=Xt.id=0),$e.push(kt),ke(a,!0)}.bind(null,t):Ur),t!==kt&&(kt=t,r===ue&&(ue.env=rr()),Tt&&(n=ue.env.Promise,e=t.env,(r.global||t.global)&&(Object.defineProperty(m,"Promise",e.PromiseProp),n.all=e.all,n.race=e.race,n.resolve=e.resolve,n.reject=e.reject,e.allSettled&&(n.allSettled=e.allSettled),e.any&&(n.any=e.any))))}function rr(){var t=m.Promise;return Tt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(m,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function Oe(t,e,n,r,a){var s=kt;try{return ke(t,!0),e(n,r,a)}finally{ke(s,!1)}}function ir(t,e,n,r){return typeof t!="function"?t:function(){var a=kt;n&&je(),ke(e,!0);try{return t.apply(this,arguments)}finally{ke(a,!1),r&&queueMicrotask(we)}}}function En(t){Promise===Nt&&Xt.echoes===0?Qe===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}(""+ce).indexOf("[native code]")===-1&&(je=we=Bt);var Ht=bt.reject,Ce="ï¿¿",pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ar="String expected.",Fe=[],en="__dbnames",On="readonly",Cn="readwrite";function Ae(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var or={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nn(t){return typeof t!="string"||/\./.test(t)?function(e){return e}:function(e){return e[t]===void 0&&t in e&&delete(e=$(e))[t],e}}function sr(){throw pt.Type()}function Ft(t,e){try{var n=ur(t),r=ur(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e<t?1:t<e?-1:0;case"binary":return function(a,s){for(var f=a.length,b=s.length,A=f<b?f:b,P=0;P<A;++P)if(a[P]!==s[P])return a[P]<s[P]?-1:1;return f===b?0:f<b?-1:1}(cr(t),cr(e));case"Array":return function(a,s){for(var f=a.length,b=s.length,A=f<b?f:b,P=0;P<A;++P){var D=Ft(a[P],s[P]);if(D!==0)return D}return f===b?0:f<b?-1:1}(t,e)}}catch{}return NaN}function ur(t){var e=typeof t;return e!="object"?e:ArrayBuffer.isView(t)?"binary":(t=nt(t),t==="ArrayBuffer"?"binary":t)}function cr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var lr=(qt.prototype._trans=function(t,e,n){var r=this._tx||kt.trans,a=this.name,s=rt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(t==="readonly"?"read":"write"," ").concat(this.name));function f(P,D,k){if(!k.schema[a])throw new pt.NotFound("Table "+a+" not part of transaction");return e(k.idbtrans,k)}var b=Re();try{var A=r&&r.db._novip===this.db._novip?r===kt.trans?r._promise(t,f,n):_e(function(){return r._promise(t,f,n)},{trans:r,transless:kt.transless||kt}):function P(D,k,K,I){if(D.idbdb&&(D._state.openComplete||kt.letThrough||D._vip)){var R=D._createTransaction(k,K,D._dbSchema);try{R.create(),D._state.PR1398_maxLoop=3}catch(N){return N.name===Vt.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return P(D,k,K,I)})):Ht(N)}return R._promise(k,function(N,z){return _e(function(){return kt.trans=R,I(N,z,R)})}).then(function(N){if(k==="readwrite")try{R.idbtrans.commit()}catch{}return k==="readonly"?N:R._completion.then(function(){return N})})}if(D._state.openComplete)return Ht(new pt.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return Ht(new pt.DatabaseClosed);D.open().catch(Bt)}return D._state.dbReadyPromise.then(function(){return P(D,k,K,I)})}(this.db,t,[this.name],f);return s&&(A._consoleTask=s,A=A.catch(function(P){return console.trace(P),Ht(P)})),A}finally{b&&De()}},qt.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):t==null?Ht(new pt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return n.core.get({trans:r,key:t}).then(function(a){return n.hook.reading.fire(a)})}).then(e)},qt.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(u(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=d(t);if(e.length===1)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&e.every(function(P){return 0<=b.keyPath.indexOf(P)})){for(var A=0;A<e.length;++A)if(e.indexOf(b.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(b,A){return b.keyPath.length-A.keyPath.length})[0];if(n&&this.db._maxKey!==Ce){var s=n.keyPath.slice(0,e.length);return this.where(s).equals(s.map(function(A){return t[A]}))}!n&&rt&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(e.join("+"),"]"));var r=this.schema.idxByName;function a(b,A){return Ft(b,A)===0}var f=e.reduce(function(k,A){var P=k[0],D=k[1],k=r[A],K=t[A];return[P||k,P||!k?Ae(D,k&&k.multi?function(I){return I=et(I,A),u(I)&&I.some(function(R){return a(K,R)})}:function(I){return a(K,et(I,A))}):D]},[null,null]),s=f[0],f=f[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(f):n?this.filter(f):this.where(e).equals("")},qt.prototype.filter=function(t){return this.toCollection().and(t)},qt.prototype.count=function(t){return this.toCollection().count(t)},qt.prototype.offset=function(t){return this.toCollection().offset(t)},qt.prototype.limit=function(t){return this.toCollection().limit(t)},qt.prototype.each=function(t){return this.toCollection().each(t)},qt.prototype.toArray=function(t){return this.toCollection().toArray(t)},qt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qt.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,u(t)?"[".concat(t.join("+"),"]"):t))},qt.prototype.reverse=function(){return this.toCollection().reverse()},qt.prototype.mapToClass=function(t){var e,n=this.db,r=this.name;function a(){return e!==null&&e.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof sr&&(function(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function D(){this.constructor=A}C(A,P),A.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)}(a,e=t),Object.defineProperty(a.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),a.prototype.table=function(){return r},t=a);for(var s=new Set,f=t.prototype;f;f=E(f))Object.getOwnPropertyNames(f).forEach(function(A){return s.add(A)});function b(A){if(!A)return A;var P,D=Object.create(t.prototype);for(P in A)if(!s.has(P))try{D[P]=A[P]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),t},qt.prototype.defineClass=function(){return this.mapToClass(function(t){y(this,t)})},qt.prototype.add=function(t,e){var n=this,r=this.schema.primKey,a=r.auto,s=r.keyPath,f=t;return s&&a&&(f=nn(s)(t)),this._trans("readwrite",function(b){return n.core.mutate({trans:b,type:"add",keys:e!=null?[e]:null,values:[f]})}).then(function(b){return b.numFailures?bt.reject(b.failures[0]):b.lastResult}).then(function(b){if(s)try{X(t,s,b)}catch{}return b})},qt.prototype.update=function(t,e){return typeof t!="object"||u(t)?this.where(":id").equals(t).modify(e):(t=et(t,this.schema.primKey.keyPath),t===void 0?Ht(new pt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(t).modify(e))},qt.prototype.put=function(t,e){var n=this,r=this.schema.primKey,a=r.auto,s=r.keyPath,f=t;return s&&a&&(f=nn(s)(t)),this._trans("readwrite",function(b){return n.core.mutate({trans:b,type:"put",values:[f],keys:e!=null?[e]:null})}).then(function(b){return b.numFailures?bt.reject(b.failures[0]):b.lastResult}).then(function(b){if(s)try{X(t,s,b)}catch{}return b})},qt.prototype.delete=function(t){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(n){return n.numFailures?bt.reject(n.failures[0]):void 0})},qt.prototype.clear=function(){var t=this;return this._trans("readwrite",function(e){return t.core.mutate({trans:e,type:"deleteRange",range:or})}).then(function(e){return e.numFailures?bt.reject(e.failures[0]):void 0})},qt.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",function(n){return e.core.getMany({keys:t,trans:n}).then(function(r){return r.map(function(a){return e.hook.reading.fire(a)})})})},qt.prototype.bulkAdd=function(t,e,n){var r=this,a=Array.isArray(e)?e:void 0,s=(n=n||(a?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",function(f){var P=r.schema.primKey,b=P.auto,P=P.keyPath;if(P&&a)throw new pt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new pt.InvalidArgument("Arguments objects and keys must have the same length");var A=t.length,P=P&&b?t.map(nn(P)):t;return r.core.mutate({trans:f,type:"add",keys:a,values:P,wantResults:s}).then(function(R){var k=R.numFailures,K=R.results,I=R.lastResult,R=R.failures;if(k===0)return s?K:I;throw new Ut("".concat(r.name,".bulkAdd(): ").concat(k," of ").concat(A," operations failed"),R)})})},qt.prototype.bulkPut=function(t,e,n){var r=this,a=Array.isArray(e)?e:void 0,s=(n=n||(a?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",function(f){var P=r.schema.primKey,b=P.auto,P=P.keyPath;if(P&&a)throw new pt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new pt.InvalidArgument("Arguments objects and keys must have the same length");var A=t.length,P=P&&b?t.map(nn(P)):t;return r.core.mutate({trans:f,type:"put",keys:a,values:P,wantResults:s}).then(function(R){var k=R.numFailures,K=R.results,I=R.lastResult,R=R.failures;if(k===0)return s?K:I;throw new Ut("".concat(r.name,".bulkPut(): ").concat(k," of ").concat(A," operations failed"),R)})})},qt.prototype.bulkUpdate=function(t){var e=this,n=this.core,r=t.map(function(f){return f.key}),a=t.map(function(f){return f.changes}),s=[];return this._trans("readwrite",function(f){return n.getMany({trans:f,keys:r,cache:"clone"}).then(function(b){var A=[],P=[];t.forEach(function(k,K){var I=k.key,R=k.changes,N=b[K];if(N){for(var z=0,q=Object.keys(R);z<q.length;z++){var H=q[z],G=R[H];if(H===e.schema.primKey.keyPath){if(Ft(G,I)!==0)throw new pt.Constraint("Cannot update primary key in bulkUpdate()")}else X(N,H,G)}s.push(K),A.push(I),P.push(N)}});var D=A.length;return n.mutate({trans:f,type:"put",keys:A,values:P,updates:{keys:r,changeSpecs:a}}).then(function(k){var K=k.numFailures,I=k.failures;if(K===0)return D;for(var R=0,N=Object.keys(I);R<N.length;R++){var z,q=N[R],H=s[Number(q)];H!=null&&(z=I[q],delete I[q],I[H]=z)}throw new Ut("".concat(e.name,".bulkUpdate(): ").concat(K," of ").concat(D," operations failed"),I)})})})},qt.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",function(r){return e.core.mutate({trans:r,type:"delete",keys:t})}).then(function(f){var a=f.numFailures,s=f.lastResult,f=f.failures;if(a===0)return s;throw new Ut("".concat(e.name,".bulkDelete(): ").concat(a," of ").concat(n," operations failed"),f)})},qt);function qt(){}function Le(t){function e(f,b){if(b){for(var A=arguments.length,P=new Array(A-1);--A;)P[A-1]=arguments[A];return n[f].subscribe.apply(null,P),t}if(typeof f=="string")return n[f]}var n={};e.addEventType=s;for(var r=1,a=arguments.length;r<a;++r)s(arguments[r]);return e;function s(f,b,A){if(typeof f!="object"){var P;b=b||j;var D={subscribers:[],fire:A=A||Bt,subscribe:function(k){D.subscribers.indexOf(k)===-1&&(D.subscribers.push(k),D.fire=b(D.fire,k))},unsubscribe:function(k){D.subscribers=D.subscribers.filter(function(K){return K!==k}),D.fire=D.subscribers.reduce(b,A)}};return n[f]=e[f]=D}d(P=f).forEach(function(k){var K=P[k];if(u(K))s(k,P[k][0],P[k][1]);else{if(K!=="asap")throw new pt.InvalidArgument("Invalid event config");var I=s(k,Qt,function(){for(var R=arguments.length,N=new Array(R);R--;)N[R]=arguments[R];I.subscribers.forEach(function(z){U(function(){z.apply(null,N)})})})}})}}function Me(t,e){return c(e).from({prototype:t}),e}function Ne(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function An(t,e){t.filter=Ae(t.filter,e)}function In(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Ae(r(),e())}:e,t.justLimit=n&&!r}function rn(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new pt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function fr(t,e,n){var r=rn(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function an(t,e,n,r){var a=t.replayFilter?Ae(t.filter,t.replayFilter()):t.filter;if(t.or){var s={},f=function(b,A,P){var D,k;a&&!a(A,P,function(K){return A.stop(K)},function(K){return A.fail(K)})||((k=""+(D=A.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(D)),x(s,k)||(s[k]=!0,e(b,A,P)))};return Promise.all([t.or._iterate(f,n),hr(fr(t,r,n),t.algorithm,f,!t.keysOnly&&t.valueMapper)])}return hr(fr(t,r,n),Ae(t.algorithm,a),e,!t.keysOnly&&t.valueMapper)}function hr(t,e,n,r){var a=Wt(r?function(s,f,b){return n(r(s),f,b)}:n);return t.then(function(s){if(s)return s.start(function(){var f=function(){return s.continue()};e&&!e(s,function(b){return f=b},function(b){s.stop(b),f=Bt},function(b){s.fail(b),f=Bt})||a(s.value,s,function(b){return f=b}),f()})})}var qe=(dr.prototype.execute=function(t){var e=this["@@propmod"];if(e.add!==void 0){var n=e.add;if(u(n))return F(F([],u(t)?t:[],!0),n).sort();if(typeof n=="number")return(Number(t)||0)+n;if(typeof n=="bigint")try{return BigInt(t)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(e.remove!==void 0){var r=e.remove;if(u(r))return u(t)?t.filter(function(a){return!r.includes(a)}).sort():[];if(typeof r=="number")return Number(t)-r;if(typeof r=="bigint")try{return BigInt(t)-r}catch{return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}return n=(n=e.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof t=="string"&&t.startsWith(n)?e.replacePrefix[1]+t.substring(n.length):t},dr);function dr(t){this["@@propmod"]=t}var Lr=(Kt.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Ht.bind(null,n.error)):n.table._trans("readonly",t).then(e)},Kt.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,Ht.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},Kt.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=Ae(e.algorithm,t)},Kt.prototype._iterate=function(t,e){return an(this._ctx,t,e,this._ctx.table.core)},Kt.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&y(n,t),e._ctx=n,e},Kt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Kt.prototype.each=function(t){var e=this._ctx;return this._read(function(n){return an(e,t,n,e.table.core)})},Kt.prototype.count=function(t){var e=this;return this._read(function(n){var r=e._ctx,a=r.table.core;if(Ne(r,!0))return a.count({trans:n,query:{index:rn(r,a.schema),range:r.range}}).then(function(f){return Math.min(f,r.limit)});var s=0;return an(r,function(){return++s,!1},n,a).then(function(){return s})}).then(t)},Kt.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],a=n.length-1;function s(A,P){return P?s(A[n[P]],P-1):A[r]}var f=this._ctx.dir==="next"?1:-1;function b(A,P){return Ft(s(A,a),s(P,a))*f}return this.toArray(function(A){return A.sort(b)}).then(e)},Kt.prototype.toArray=function(t){var e=this;return this._read(function(n){var r=e._ctx;if(r.dir==="next"&&Ne(r,!0)&&0<r.limit){var a=r.valueMapper,s=rn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(function(b){return b=b.result,a?b.map(a):b})}var f=[];return an(r,function(b){return f.push(b)},n,r.table.core).then(function(){return f})},t)},Kt.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,Ne(e)?In(e,function(){var n=t;return function(r,a){return n===0||(n===1?--n:a(function(){r.advance(n),n=0}),!1)}}):In(e,function(){var n=t;return function(){return--n<0}})),this},Kt.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),In(this._ctx,function(){var e=t;return function(n,r,a){return--e<=0&&r(a),0<=e}},!0),this},Kt.prototype.until=function(t,e){return An(this._ctx,function(n,r,a){return!t(n.value)||(r(a),e)}),this},Kt.prototype.first=function(t){return this.limit(1).toArray(function(e){return e[0]}).then(t)},Kt.prototype.last=function(t){return this.reverse().first(t)},Kt.prototype.filter=function(t){var e;return An(this._ctx,function(n){return t(n.value)}),(e=this._ctx).isMatch=Ae(e.isMatch,t),this},Kt.prototype.and=function(t){return this.filter(t)},Kt.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},Kt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Kt.prototype.desc=function(){return this.reverse()},Kt.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(n,r){t(r.key,r)})},Kt.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},Kt.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(n,r){t(r.primaryKey,r)})},Kt.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(r,a){n.push(a.key)}).then(function(){return n}).then(t)},Kt.prototype.primaryKeys=function(t){var e=this._ctx;if(e.dir==="next"&&Ne(e,!0)&&0<e.limit)return this._read(function(r){var a=rn(e,e.table.core.schema);return e.table.core.query({trans:r,values:!1,limit:e.limit,query:{index:a,range:e.range}})}).then(function(r){return r.result}).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(r,a){n.push(a.primaryKey)}).then(function(){return n}).then(t)},Kt.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},Kt.prototype.firstKey=function(t){return this.limit(1).keys(function(e){return e[0]}).then(t)},Kt.prototype.lastKey=function(t){return this.reverse().firstKey(t)},Kt.prototype.distinct=function(){var t=this._ctx,t=t.index&&t.table.schema.idxByName[t.index];if(!t||!t.multi)return this;var e={};return An(this._ctx,function(a){var r=a.primaryKey.toString(),a=x(e,r);return e[r]=!0,!a}),this},Kt.prototype.modify=function(t){var e=this,n=this._ctx;return this._write(function(r){var a,s,f;f=typeof t=="function"?t:(a=d(t),s=a.length,function(z){for(var q=!1,H=0;H<s;++H){var G=a[H],tt=t[G],ct=et(z,G);tt instanceof qe?(X(z,G,tt.execute(ct)),q=!0):ct!==tt&&(X(z,G,tt),q=!0)}return q});var b=n.table.core,k=b.schema.primaryKey,A=k.outbound,P=k.extractKey,D=200,k=e.db._options.modifyChunkSize;k&&(D=typeof k=="object"?k[b.name]||k["*"]||200:k);function K(z,G){var H=G.failures,G=G.numFailures;R+=z-G;for(var tt=0,ct=d(H);tt<ct.length;tt++){var vt=ct[tt];I.push(H[vt])}}var I=[],R=0,N=[];return e.clone().primaryKeys().then(function(z){function q(G){var tt=Math.min(D,z.length-G);return b.getMany({trans:r,keys:z.slice(G,G+tt),cache:"immutable"}).then(function(ct){for(var vt=[],lt=[],dt=A?[]:null,gt=[],yt=0;yt<tt;++yt){var xt=ct[yt],zt={value:$(xt),primKey:z[G+yt]};f.call(zt,zt.value,zt)!==!1&&(zt.value==null?gt.push(z[G+yt]):A||Ft(P(xt),P(zt.value))===0?(lt.push(zt.value),A&&dt.push(z[G+yt])):(gt.push(z[G+yt]),vt.push(zt.value)))}return Promise.resolve(0<vt.length&&b.mutate({trans:r,type:"add",values:vt}).then(function(Rt){for(var Dt in Rt.failures)gt.splice(parseInt(Dt),1);K(vt.length,Rt)})).then(function(){return(0<lt.length||H&&typeof t=="object")&&b.mutate({trans:r,type:"put",keys:dt,values:lt,criteria:H,changeSpec:typeof t!="function"&&t,isAdditionalChunk:0<G}).then(function(Rt){return K(lt.length,Rt)})}).then(function(){return(0<gt.length||H&&t===Pn)&&b.mutate({trans:r,type:"delete",keys:gt,criteria:H,isAdditionalChunk:0<G}).then(function(Rt){return K(gt.length,Rt)})}).then(function(){return z.length>G+tt&&q(G+D)})})}var H=Ne(n)&&n.limit===1/0&&(typeof t!="function"||t===Pn)&&{index:n.index,range:n.range};return q(0).then(function(){if(0<I.length)throw new mt("Error modifying one or more objects",I,R,N);return z.length})})})},Kt.prototype.delete=function(){var t=this._ctx,e=t.range;return Ne(t)&&(t.isPrimKey||e.type===3)?this._write(function(n){var r=t.table.core.schema.primaryKey,a=e;return t.table.core.count({trans:n,query:{index:r,range:a}}).then(function(s){return t.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(function(f){var b=f.failures;if(f.lastResult,f.results,f=f.numFailures,f)throw new mt("Could not delete some values",Object.keys(b).map(function(A){return b[A]}),s-f);return s-f})})}):this.modify(Pn)},Kt);function Kt(){}var Pn=function(t,e){return e.value=null};function Mr(t,e){return t<e?-1:t===e?0:1}function qr(t,e){return e<t?-1:t===e?0:1}function oe(t,e,n){return t=t instanceof mr?new t.Collection(t):t,t._ctx.error=new(n||TypeError)(e),t}function Ke(t){return new t.Collection(t,function(){return pr("")}).limit(0)}function on(t,e,n,r){var a,s,f,b,A,P,D,k=n.length;if(!n.every(function(R){return typeof R=="string"}))return oe(t,ar);function K(R){a=R==="next"?function(z){return z.toUpperCase()}:function(z){return z.toLowerCase()},s=R==="next"?function(z){return z.toLowerCase()}:function(z){return z.toUpperCase()},f=R==="next"?Mr:qr;var N=n.map(function(z){return{lower:s(z),upper:a(z)}}).sort(function(z,q){return f(z.lower,q.lower)});b=N.map(function(z){return z.upper}),A=N.map(function(z){return z.lower}),D=(P=R)==="next"?"":r}K("next"),t=new t.Collection(t,function(){return xe(b[0],A[k-1]+r)}),t._ondirectionchange=function(R){K(R)};var I=0;return t._addAlgorithm(function(R,N,z){var q=R.key;if(typeof q!="string")return!1;var H=s(q);if(e(H,A,I))return!0;for(var G=null,tt=I;tt<k;++tt){var ct=function(vt,lt,dt,gt,yt,xt){for(var zt=Math.min(vt.length,gt.length),Rt=-1,Dt=0;Dt<zt;++Dt){var se=lt[Dt];if(se!==gt[Dt])return yt(vt[Dt],dt[Dt])<0?vt.substr(0,Dt)+dt[Dt]+dt.substr(Dt+1):yt(vt[Dt],gt[Dt])<0?vt.substr(0,Dt)+gt[Dt]+dt.substr(Dt+1):0<=Rt?vt.substr(0,Rt)+lt[Rt]+dt.substr(Rt+1):null;yt(vt[Dt],se)<0&&(Rt=Dt)}return zt<gt.length&&xt==="next"?vt+dt.substr(vt.length):zt<vt.length&&xt==="prev"?vt.substr(0,dt.length):Rt<0?null:vt.substr(0,Rt)+gt[Rt]+dt.substr(Rt+1)}(q,H,b[tt],A[tt],f,P);ct===null&&G===null?I=tt+1:(G===null||0<f(G,ct))&&(G=ct)}return N(G!==null?function(){R.continue(G+D)}:z),!1}),t}function xe(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function pr(t){return{type:1,lower:t,upper:t}}var mr=(Object.defineProperty($t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$t.prototype.between=function(t,e,n,r){n=n!==!1,r=r===!0;try{return 0<this._cmp(t,e)||this._cmp(t,e)===0&&(n||r)&&(!n||!r)?Ke(this):new this.Collection(this,function(){return xe(t,e,!n,!r)})}catch{return oe(this,pe)}},$t.prototype.equals=function(t){return t==null?oe(this,pe):new this.Collection(this,function(){return pr(t)})},$t.prototype.above=function(t){return t==null?oe(this,pe):new this.Collection(this,function(){return xe(t,void 0,!0)})},$t.prototype.aboveOrEqual=function(t){return t==null?oe(this,pe):new this.Collection(this,function(){return xe(t,void 0,!1)})},$t.prototype.below=function(t){return t==null?oe(this,pe):new this.Collection(this,function(){return xe(void 0,t,!1,!0)})},$t.prototype.belowOrEqual=function(t){return t==null?oe(this,pe):new this.Collection(this,function(){return xe(void 0,t)})},$t.prototype.startsWith=function(t){return typeof t!="string"?oe(this,ar):this.between(t,t+Ce,!0,!0)},$t.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):on(this,function(e,n){return e.indexOf(n[0])===0},[t],Ce)},$t.prototype.equalsIgnoreCase=function(t){return on(this,function(e,n){return e===n[0]},[t],"")},$t.prototype.anyOfIgnoreCase=function(){var t=Ot.apply(at,arguments);return t.length===0?Ke(this):on(this,function(e,n){return n.indexOf(e)!==-1},t,"")},$t.prototype.startsWithAnyOfIgnoreCase=function(){var t=Ot.apply(at,arguments);return t.length===0?Ke(this):on(this,function(e,n){return n.some(function(r){return e.indexOf(r)===0})},t,Ce)},$t.prototype.anyOf=function(){var t=this,e=Ot.apply(at,arguments),n=this._cmp;try{e.sort(n)}catch{return oe(this,pe)}if(e.length===0)return Ke(this);var r=new this.Collection(this,function(){return xe(e[0],e[e.length-1])});r._ondirectionchange=function(s){n=s==="next"?t._ascending:t._descending,e.sort(n)};var a=0;return r._addAlgorithm(function(s,f,b){for(var A=s.key;0<n(A,e[a]);)if(++a===e.length)return f(b),!1;return n(A,e[a])===0||(f(function(){s.continue(e[a])}),!1)}),r},$t.prototype.notEqual=function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$t.prototype.noneOf=function(){var t=Ot.apply(at,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return oe(this,pe)}var e=t.reduce(function(n,r){return n?n.concat([[n[n.length-1][1],r]]):[[-1/0,r]]},null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},$t.prototype.inAnyRange=function(q,e){var n=this,r=this._cmp,a=this._ascending,s=this._descending,f=this._min,b=this._max;if(q.length===0)return Ke(this);if(!q.every(function(H){return H[0]!==void 0&&H[1]!==void 0&&a(H[0],H[1])<=0}))return oe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pt.InvalidArgument);var A=!e||e.includeLowers!==!1,P=e&&e.includeUppers===!0,D,k=a;function K(H,G){return k(H[0],G[0])}try{(D=q.reduce(function(H,G){for(var tt=0,ct=H.length;tt<ct;++tt){var vt=H[tt];if(r(G[0],vt[1])<0&&0<r(G[1],vt[0])){vt[0]=f(vt[0],G[0]),vt[1]=b(vt[1],G[1]);break}}return tt===ct&&H.push(G),H},[])).sort(K)}catch{return oe(this,pe)}var I=0,R=P?function(H){return 0<a(H,D[I][1])}:function(H){return 0<=a(H,D[I][1])},N=A?function(H){return 0<s(H,D[I][0])}:function(H){return 0<=s(H,D[I][0])},z=R,q=new this.Collection(this,function(){return xe(D[0][0],D[D.length-1][1],!A,!P)});return q._ondirectionchange=function(H){k=H==="next"?(z=R,a):(z=N,s),D.sort(K)},q._addAlgorithm(function(H,G,tt){for(var ct,vt=H.key;z(vt);)if(++I===D.length)return G(tt),!1;return!R(ct=vt)&&!N(ct)||(n._cmp(vt,D[I][1])===0||n._cmp(vt,D[I][0])===0||G(function(){k===a?H.continue(D[I][0]):H.continue(D[I][1])}),!1)}),q},$t.prototype.startsWithAnyOf=function(){var t=Ot.apply(at,arguments);return t.every(function(e){return typeof e=="string"})?t.length===0?Ke(this):this.inAnyRange(t.map(function(e){return[e,e+Ce]})):oe(this,"startsWithAnyOf() only works with strings")},$t);function $t(){}function le(t){return Wt(function(e){return We(e),t(e.target.error),!1})}function We(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Ze="storagemutated",zn="x-storagemutated-1",Se=Le(null,Ze),Wr=(fe.prototype._lock=function(){return L(!kt.global),++this._reculock,this._reculock!==1||kt.global||(kt.lockOwnerFor=this),this},fe.prototype._unlock=function(){if(L(!kt.global),--this._reculock==0)for(kt.global||(kt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var t=this._blockedFuncs.shift();try{Oe(t[1],t[0])}catch{}}return this},fe.prototype._locked=function(){return this._reculock&&kt.lockOwnerFor!==this},fe.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(L(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new pt.DatabaseClosed(r);case"MissingAPIError":throw new pt.MissingAPI(r.message,r);default:throw new pt.OpenFailed(r)}if(!this.active)throw new pt.TransactionInactive;return L(this._completion._state===null),(t=this.idbtrans=t||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Wt(function(a){We(a),e._reject(t.error)}),t.onabort=Wt(function(a){We(a),e.active&&e._reject(new pt.Abort(t.error)),e.active=!1,e.on("abort").fire(a)}),t.oncomplete=Wt(function(){e.active=!1,e._resolve(),"mutatedParts"in t&&Se.storagemutated.fire(t.mutatedParts)}),this},fe.prototype._promise=function(t,e,n){var r=this;if(t==="readwrite"&&this.mode!=="readwrite")return Ht(new pt.ReadOnly("Transaction is readonly"));if(!this.active)return Ht(new pt.TransactionInactive);if(this._locked())return new bt(function(s,f){r._blockedFuncs.push([function(){r._promise(t,e,n).then(s,f)},kt])});if(n)return _e(function(){var s=new bt(function(f,b){r._lock();var A=e(f,b,r);A&&A.then&&A.then(f,b)});return s.finally(function(){return r._unlock()}),s._lib=!0,s});var a=new bt(function(s,f){var b=e(s,f,r);b&&b.then&&b.then(s,f)});return a._lib=!0,a},fe.prototype._root=function(){return this.parent?this.parent._root():this},fe.prototype.waitFor=function(t){var e,n=this._root(),r=bt.resolve(t);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],e=n.idbtrans.objectStore(n.storeNames[0]),function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(e.get(-1/0).onsuccess=s)}());var a=n._waitingFor;return new bt(function(s,f){r.then(function(b){return n._waitingQueue.push(Wt(s.bind(null,b)))},function(b){return n._waitingQueue.push(Wt(f.bind(null,b)))}).finally(function(){n._waitingFor===a&&(n._waitingFor=null)})})},fe.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pt.Abort))},fe.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(x(e,t))return e[t];var n=this.schema[t];if(!n)throw new pt.NotFound("Table "+t+" not part of transaction");return n=new this.db.Table(t,n,this),n.core=this.db.core.table(t),e[t]=n},fe);function fe(){}function Bn(t,e,n,r,a,s,f){return{name:t,keyPath:e,unique:n,multi:r,auto:a,compound:s,src:(n&&!f?"&":"")+(r?"*":"")+(a?"++":"")+yr(e)}}function yr(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Tn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:(r=function(a){return[a.name,a]},n.reduce(function(a,s,f){return f=r(s,f),f&&(a[f[0]]=f[1]),a},{}))};var r}var He=function(t){try{return t.only([[]]),He=function(){return[[]]},[[]]}catch{return He=function(){return Ce},Ce}};function Rn(t){return t==null?function(){}:typeof t=="string"?(e=t).split(".").length===1?function(n){return n[e]}:function(n){return et(n,e)}:function(n){return et(n,t)};var e}function vr(t){return[].slice.call(t)}var Zr=0;function Ge(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function Hr(t,e,A){function r(z){if(z.type===3)return null;if(z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=z.lower,R=z.upper,N=z.lowerOpen,z=z.upperOpen;return I===void 0?R===void 0?null:e.upperBound(R,!!z):R===void 0?e.lowerBound(I,!!N):e.bound(I,R,!!N,!!z)}function a(K){var I,R=K.name;return{name:R,schema:K,mutate:function(N){var z=N.trans,q=N.type,H=N.keys,G=N.values,tt=N.range;return new Promise(function(ct,vt){ct=Wt(ct);var lt=z.objectStore(R),dt=lt.keyPath==null,gt=q==="put"||q==="add";if(!gt&&q!=="delete"&&q!=="deleteRange")throw new Error("Invalid operation type: "+q);var yt,xt=(H||G||{length:1}).length;if(H&&G&&H.length!==G.length)throw new Error("Given keys array must have same length as given values array.");if(xt===0)return ct({numFailures:0,failures:{},results:[],lastResult:void 0});function zt(ie){++se,We(ie)}var Rt=[],Dt=[],se=0;if(q==="deleteRange"){if(tt.type===4)return ct({numFailures:se,failures:Dt,results:[],lastResult:void 0});tt.type===3?Rt.push(yt=lt.clear()):Rt.push(yt=lt.delete(r(tt)))}else{var dt=gt?dt?[G,H]:[G,null]:[H,null],Pt=dt[0],ee=dt[1];if(gt)for(var ne=0;ne<xt;++ne)Rt.push(yt=ee&&ee[ne]!==void 0?lt[q](Pt[ne],ee[ne]):lt[q](Pt[ne])),yt.onerror=zt;else for(ne=0;ne<xt;++ne)Rt.push(yt=lt[q](Pt[ne])),yt.onerror=zt}function bn(ie){ie=ie.target.result,Rt.forEach(function(ze,Qn){return ze.error!=null&&(Dt[Qn]=ze.error)}),ct({numFailures:se,failures:Dt,results:q==="delete"?H:Rt.map(function(ze){return ze.result}),lastResult:ie})}yt.onerror=function(ie){zt(ie),bn(ie)},yt.onsuccess=bn})},getMany:function(N){var z=N.trans,q=N.keys;return new Promise(function(H,G){H=Wt(H);for(var tt,ct=z.objectStore(R),vt=q.length,lt=new Array(vt),dt=0,gt=0,yt=function(Rt){Rt=Rt.target,lt[Rt._pos]=Rt.result,++gt===dt&&H(lt)},xt=le(G),zt=0;zt<vt;++zt)q[zt]!=null&&((tt=ct.get(q[zt]))._pos=zt,tt.onsuccess=yt,tt.onerror=xt,++dt);dt===0&&H(lt)})},get:function(N){var z=N.trans,q=N.key;return new Promise(function(H,G){H=Wt(H);var tt=z.objectStore(R).get(q);tt.onsuccess=function(ct){return H(ct.target.result)},tt.onerror=le(G)})},query:(I=P,function(N){return new Promise(function(z,q){z=Wt(z);var H,G,tt,dt=N.trans,ct=N.values,vt=N.limit,yt=N.query,lt=vt===1/0?void 0:vt,gt=yt.index,yt=yt.range,dt=dt.objectStore(R),gt=gt.isPrimaryKey?dt:dt.index(gt.name),yt=r(yt);if(vt===0)return z({result:[]});I?((lt=ct?gt.getAll(yt,lt):gt.getAllKeys(yt,lt)).onsuccess=function(xt){return z({result:xt.target.result})},lt.onerror=le(q)):(H=0,G=!ct&&"openKeyCursor"in gt?gt.openKeyCursor(yt):gt.openCursor(yt),tt=[],G.onsuccess=function(xt){var zt=G.result;return zt?(tt.push(ct?zt.value:zt.primaryKey),++H===vt?z({result:tt}):void zt.continue()):z({result:tt})},G.onerror=le(q))})}),openCursor:function(N){var z=N.trans,q=N.values,H=N.query,G=N.reverse,tt=N.unique;return new Promise(function(ct,vt){ct=Wt(ct);var gt=H.index,lt=H.range,dt=z.objectStore(R),dt=gt.isPrimaryKey?dt:dt.index(gt.name),gt=G?tt?"prevunique":"prev":tt?"nextunique":"next",yt=!q&&"openKeyCursor"in dt?dt.openKeyCursor(r(lt),gt):dt.openCursor(r(lt),gt);yt.onerror=le(vt),yt.onsuccess=Wt(function(xt){var zt,Rt,Dt,se,Pt=yt.result;Pt?(Pt.___id=++Zr,Pt.done=!1,zt=Pt.continue.bind(Pt),Rt=(Rt=Pt.continuePrimaryKey)&&Rt.bind(Pt),Dt=Pt.advance.bind(Pt),se=function(){throw new Error("Cursor not stopped")},Pt.trans=z,Pt.stop=Pt.continue=Pt.continuePrimaryKey=Pt.advance=function(){throw new Error("Cursor not started")},Pt.fail=Wt(vt),Pt.next=function(){var ee=this,ne=1;return this.start(function(){return ne--?ee.continue():ee.stop()}).then(function(){return ee})},Pt.start=function(ee){function ne(){if(yt.result)try{ee()}catch(ie){Pt.fail(ie)}else Pt.done=!0,Pt.start=function(){throw new Error("Cursor behind last entry")},Pt.stop()}var bn=new Promise(function(ie,ze){ie=Wt(ie),yt.onerror=le(ze),Pt.fail=ze,Pt.stop=function(Qn){Pt.stop=Pt.continue=Pt.continuePrimaryKey=Pt.advance=se,ie(Qn)}});return yt.onsuccess=Wt(function(ie){yt.onsuccess=ne,ne()}),Pt.continue=zt,Pt.continuePrimaryKey=Rt,Pt.advance=Dt,ne(),bn},ct(Pt)):ct(null)},vt)})},count:function(N){var z=N.query,q=N.trans,H=z.index,G=z.range;return new Promise(function(tt,ct){var vt=q.objectStore(R),lt=H.isPrimaryKey?vt:vt.index(H.name),vt=r(G),lt=vt?lt.count(vt):lt.count();lt.onsuccess=Wt(function(dt){return tt(dt.target.result)}),lt.onerror=le(ct)})}}}var s,f,b,D=(f=A,b=vr((s=t).objectStoreNames),{schema:{name:s.name,tables:b.map(function(K){return f.objectStore(K)}).map(function(K){var I=K.keyPath,z=K.autoIncrement,R=u(I),N={},z={name:K.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:R,keyPath:I,autoIncrement:z,unique:!0,extractKey:Rn(I)},indexes:vr(K.indexNames).map(function(q){return K.index(q)}).map(function(tt){var H=tt.name,G=tt.unique,ct=tt.multiEntry,tt=tt.keyPath,ct={name:H,compound:u(tt),keyPath:tt,unique:G,multiEntry:ct,extractKey:Rn(tt)};return N[Ge(tt)]=ct}),getIndexByKeyPath:function(q){return N[Ge(q)]}};return N[":id"]=z.primaryKey,I!=null&&(N[Ge(I)]=z.primaryKey),z})},hasGetAll:0<b.length&&"getAll"in f.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),A=D.schema,P=D.hasGetAll,D=A.tables.map(a),k={};return D.forEach(function(K){return k[K.name]=K}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(K){if(!k[K])throw new Error("Table '".concat(K,"' not found"));return k[K]},MIN_KEY:-1/0,MAX_KEY:He(e),schema:A}}function Gr(t,e,n,r){var a=n.IDBKeyRange;return n.indexedDB,{dbcore:(r=Hr(e,a,r),t.dbcore.reduce(function(s,f){return f=f.create,Z(Z({},s),f(s))},r))}}function sn(t,r){var n=r.db,r=Gr(t._middlewares,n,t._deps,r);t.core=r.dbcore,t.tables.forEach(function(a){var s=a.name;t.core.schema.tables.some(function(f){return f.name===s})&&(a.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=a.core))})}function un(t,e,n,r){n.forEach(function(a){var s=r[a];e.forEach(function(f){var b=function A(P,D){return v(P,D)||(P=E(P))&&A(P,D)}(f,a);(!b||"value"in b&&b.value===void 0)&&(f===t.Transaction.prototype||f instanceof t.Transaction?_(f,a,{get:function(){return this.table(a)},set:function(A){l(this,a,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):f[a]=new t.Table(a,s))})})}function Dn(t,e){e.forEach(function(n){for(var r in n)n[r]instanceof t.Table&&delete n[r]})}function Vr(t,e){return t._cfg.version-e._cfg.version}function Yr(t,e,n,r){var a=t._dbSchema;n.objectStoreNames.contains("$meta")&&!a.$meta&&(a.$meta=Tn("$meta",br("")[0],[]),t._storeNames.push("$meta"));var s=t._createTransaction("readwrite",t._storeNames,a);s.create(n),s._completion.catch(r);var f=s._reject.bind(s),b=kt.transless||kt;_e(function(){return kt.trans=s,kt.transless=b,e!==0?(sn(t,n),P=e,((A=s).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(D){return D??P}):bt.resolve(P)).then(function(D){return K=D,I=s,R=n,N=[],D=(k=t)._versions,z=k._dbSchema=ln(0,k.idbdb,R),(D=D.filter(function(q){return q._cfg.version>=K})).length!==0?(D.forEach(function(q){N.push(function(){var H=z,G=q._cfg.dbschema;fn(k,H,R),fn(k,G,R),z=k._dbSchema=G;var tt=jn(H,G);tt.add.forEach(function(gt){Fn(R,gt[0],gt[1].primKey,gt[1].indexes)}),tt.change.forEach(function(gt){if(gt.recreate)throw new pt.Upgrade("Not yet support for changing primary key");var yt=R.objectStore(gt.name);gt.add.forEach(function(xt){return cn(yt,xt)}),gt.change.forEach(function(xt){yt.deleteIndex(xt.name),cn(yt,xt)}),gt.del.forEach(function(xt){return yt.deleteIndex(xt)})});var ct=q._cfg.contentUpgrade;if(ct&&q._cfg.version>K){sn(k,R),I._memoizedTables={};var vt=st(G);tt.del.forEach(function(gt){vt[gt]=H[gt]}),Dn(k,[k.Transaction.prototype]),un(k,[k.Transaction.prototype],d(vt),vt),I.schema=vt;var lt,dt=V(ct);return dt&&je(),tt=bt.follow(function(){var gt;(lt=ct(I))&&dt&&(gt=we.bind(null,null),lt.then(gt,gt))}),lt&&typeof lt.then=="function"?bt.resolve(lt):tt.then(function(){return lt})}}),N.push(function(H){var G,tt,ct=q._cfg.dbschema;G=ct,tt=H,[].slice.call(tt.db.objectStoreNames).forEach(function(vt){return G[vt]==null&&tt.db.deleteObjectStore(vt)}),Dn(k,[k.Transaction.prototype]),un(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),I.schema=k._dbSchema}),N.push(function(H){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===q._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(G){return G!=="$meta"})):H.objectStore("$meta").put(q._cfg.version,"version"))})}),function q(){return N.length?bt.resolve(N.shift()(I.idbtrans)).then(q):bt.resolve()}().then(function(){gr(z,R)})):bt.resolve();var k,K,I,R,N,z}).catch(f)):(d(a).forEach(function(D){Fn(n,D,a[D].primKey,a[D].indexes)}),sn(t,n),void bt.follow(function(){return t.on.populate.fire(s)}).catch(f));var A,P})}function Xr(t,e){gr(t._dbSchema,e),e.db.version%10!=0||e.objectStoreNames.contains("$meta")||e.db.createObjectStore("$meta").add(Math.ceil(e.db.version/10-1),"version");var n=ln(0,t.idbdb,e);fn(t,t._dbSchema,e);for(var r=0,a=jn(n,t._dbSchema).change;r<a.length;r++){var s=function(f){if(f.change.length||f.recreate)return console.warn("Unable to patch indexes of table ".concat(f.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=e.objectStore(f.name);f.add.forEach(function(A){rt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(f.name,".").concat(A.src)),cn(b,A)})}(a[r]);if(typeof s=="object")return s.value}}function jn(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var a=t[n],s=e[n];if(a){var f={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||a.primKey.auto!==s.primKey.auto)f.recreate=!0,r.change.push(f);else{var b=a.idxByName,A=s.idxByName,P=void 0;for(P in b)A[P]||f.del.push(P);for(P in A){var D=b[P],k=A[P];D?D.src!==k.src&&f.change.push(k):f.add.push(k)}(0<f.del.length||0<f.add.length||0<f.change.length)&&r.change.push(f)}}else r.add.push([n,s])}return r}function Fn(t,e,n,r){var a=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return cn(a,s)}),a}function gr(t,e){d(t).forEach(function(n){e.db.objectStoreNames.contains(n)||(rt&&console.debug("Dexie: Creating missing table",n),Fn(e,n,t[n].primKey,t[n].indexes))})}function cn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ln(t,e,n){var r={};return w(e.objectStoreNames,0).forEach(function(a){for(var s=n.objectStore(a),f=Bn(yr(P=s.keyPath),P||"",!0,!1,!!s.autoIncrement,P&&typeof P!="string",!0),b=[],A=0;A<s.indexNames.length;++A){var D=s.index(s.indexNames[A]),P=D.keyPath,D=Bn(D.name,P,!!D.unique,!!D.multiEntry,!1,P&&typeof P!="string",!1);b.push(D)}r[a]=Tn(a,f,b)}),r}function fn(t,e,n){for(var r=n.db.objectStoreNames,a=0;a<r.length;++a){var s=r[a],f=n.objectStore(s);t._hasGetAll="getAll"in f;for(var b=0;b<f.indexNames.length;++b){var A=f.indexNames[b],P=f.index(A).keyPath,D=typeof P=="string"?P:"["+w(P).join("+")+"]";!e[s]||(P=e[s].idxByName[D])&&(P.name=A,delete e[s].idxByName[D],e[s].idxByName[A]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&m.WorkerGlobalScope&&m instanceof m.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function br(t){return t.split(",").map(function(e,n){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Bn(r,a||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),u(a),n===0)})}var $r=(hn.prototype._parseStoresSpec=function(t,e){d(t).forEach(function(n){if(t[n]!==null){var r=br(t[n]),a=r.shift();if(a.unique=!0,a.multi)throw new pt.Schema("Primary key cannot be multi-valued");r.forEach(function(s){if(s.auto)throw new pt.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new pt.Schema("Index must have a name and cannot be an empty string")}),e[n]=Tn(n,a,r)}})},hn.prototype.stores=function(n){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,n):n;var n=e._versions,r={},a={};return n.forEach(function(s){y(r,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(r,a)}),e._dbSchema=a,Dn(e,[e._allTables,e,e.Transaction.prototype]),un(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],d(a),a),e._storeNames=d(a),this},hn.prototype.upgrade=function(t){return this._cfg.contentUpgrade=it(this._cfg.contentUpgrade||Bt,t),this},hn);function hn(){}function Nn(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new me(en,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Kn(t){return t&&typeof t.databases=="function"}function Un(t){return _e(function(){return kt.letThrough=!0,t()})}function Ln(t){return!("from"in t)}var te=function(t,e){if(!this){var n=new te;return t&&"d"in t&&y(n,t),n}y(this,arguments.length?{d:1,from:t,to:1<arguments.length?e:t}:{d:0})};function Ve(t,e,n){var r=Ft(e,n);if(!isNaN(r)){if(0<r)throw RangeError();if(Ln(t))return y(t,{from:e,to:n,d:1});var a=t.l,r=t.r;if(Ft(n,t.from)<0)return a?Ve(a,e,n):t.l={from:e,to:n,d:1,l:null,r:null},wr(t);if(0<Ft(e,t.to))return r?Ve(r,e,n):t.r={from:e,to:n,d:1,l:null,r:null},wr(t);Ft(e,t.from)<0&&(t.from=e,t.l=null,t.d=r?r.d+1:1),0<Ft(n,t.to)&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1),n=!t.r,a&&!t.l&&Ye(t,a),r&&n&&Ye(t,r)}}function Ye(t,e){Ln(e)||function n(r,A){var s=A.from,f=A.to,b=A.l,A=A.r;Ve(r,s,f),b&&n(r,b),A&&n(r,A)}(t,e)}function _r(t,e){var n=dn(e),r=n.next();if(r.done)return!1;for(var a=r.value,s=dn(t),f=s.next(a.from),b=f.value;!r.done&&!f.done;){if(Ft(b.from,a.to)<=0&&0<=Ft(b.to,a.from))return!0;Ft(a.from,b.from)<0?a=(r=n.next(b.from)).value:b=(f=s.next(a.from)).value}return!1}function dn(t){var e=Ln(t)?null:{s:0,n:t};return{next:function(n){for(var r=0<arguments.length;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Ft(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Ft(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function wr(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),a=1<r?"r":r<-1?"l":"";a&&(e=a=="r"?"l":"r",n=Z({},t),r=t[a],t.from=r.from,t.to=r.to,t[a]=r[a],n[a]=r[e],(t[e]=n).d=kr(n)),t.d=kr(t)}function kr(n){var e=n.r,n=n.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}function pn(t,e){return d(e).forEach(function(n){t[n]?Ye(t[n],e[n]):t[n]=function r(a){var s,f,b={};for(s in a)x(a,s)&&(f=a[s],b[s]=!f||typeof f!="object"||Ct.has(f.constructor)?f:r(f));return b}(e[n])}),t}function Mn(t,e){return t.all||e.all||Object.keys(t).some(function(n){return e[n]&&_r(e[n],t[n])})}O(te.prototype,((ce={add:function(t){return Ye(this,t),this},addKey:function(t){return Ve(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return Ve(e,n,n)}),this},hasKey:function(t){var e=dn(this).next(t).value;return e&&Ft(e.from,t)<=0&&0<=Ft(e.to,t)}})[At]=function(){return dn(this)},ce));var Ie={},qn={},Wn=!1;function mn(t){pn(qn,t),Wn||(Wn=!0,setTimeout(function(){Wn=!1,Zn(qn,!(qn={}))},0))}function Zn(t,e){e===void 0&&(e=!1);var n=new Set;if(t.all)for(var r=0,a=Object.values(Ie);r<a.length;r++)xr(f=a[r],t,n,e);else for(var s in t){var f,b=/^idb\:\/\/(.*)\/(.*)\//.exec(s);b&&(s=b[1],b=b[2],(f=Ie["idb://".concat(s,"/").concat(b)])&&xr(f,t,n,e))}n.forEach(function(A){return A()})}function xr(t,e,n,r){for(var a=[],s=0,f=Object.entries(t.queries.query);s<f.length;s++){for(var b=f[s],A=b[0],P=[],D=0,k=b[1];D<k.length;D++){var K=k[D];Mn(e,K.obsSet)?K.subscribers.forEach(function(z){return n.add(z)}):r&&P.push(K)}r&&a.push([A,P])}if(r)for(var I=0,R=a;I<R.length;I++){var N=R[I],A=N[0],P=N[1];t.queries.query[A]=P}}function Qr(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?Ht(e.dbOpenError):t});e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller,a=Math.round(10*t.verno),s=!1;function f(){if(e.openCanceller!==r)throw new pt.DatabaseClosed("db.open() was cancelled")}function b(){return new bt(function(K,I){if(f(),!n)throw new pt.MissingAPI;var R=t.name,N=e.autoSchema||!a?n.open(R):n.open(R,a);if(!N)throw new pt.MissingAPI;N.onerror=le(I),N.onblocked=Wt(t._fireOnBlocked),N.onupgradeneeded=Wt(function(z){var q;D=N.transaction,e.autoSchema&&!t._options.allowEmptyDB?(N.onerror=We,D.abort(),N.result.close(),(q=n.deleteDatabase(R)).onsuccess=q.onerror=Wt(function(){I(new pt.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(D.onerror=le(I),z=z.oldVersion>Math.pow(2,62)?0:z.oldVersion,k=z<1,t.idbdb=N.result,s&&Xr(t,D),Yr(t,z/10,D,I))},I),N.onsuccess=Wt(function(){D=null;var z,q,H,G,tt,ct=t.idbdb=N.result,vt=w(ct.objectStoreNames);if(0<vt.length)try{var lt=ct.transaction((G=vt).length===1?G[0]:G,"readonly");if(e.autoSchema)q=ct,H=lt,(z=t).verno=q.version/10,H=z._dbSchema=ln(0,q,H),z._storeNames=w(q.objectStoreNames,0),un(z,[z._allTables],d(H),H);else if(fn(t,t._dbSchema,lt),((tt=jn(ln(0,(tt=t).idbdb,lt),tt._dbSchema)).add.length||tt.change.some(function(dt){return dt.add.length||dt.change.length}))&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ct.close(),a=ct.version+1,s=!0,K(b());sn(t,lt)}catch{}Fe.push(t),ct.onversionchange=Wt(function(dt){e.vcFired=!0,t.on("versionchange").fire(dt)}),ct.onclose=Wt(function(dt){t.on("close").fire(dt)}),k&&(tt=t._deps,lt=R,ct=tt.indexedDB,tt=tt.IDBKeyRange,Kn(ct)||lt===en||Nn(ct,tt).put({name:lt}).catch(Bt)),K()},I)}).catch(function(K){switch(K?.name){case"UnknownError":if(0<e.PR1398_maxLoop)return e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<a)return a=0,b()}return bt.reject(K)})}var A,P=e.dbReadyResolve,D=null,k=!1;return bt.race([r,(typeof navigator>"u"?bt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(K){function I(){return indexedDB.databases().finally(K)}A=setInterval(I,100),I()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(b)]).then(function(){return f(),e.onReadyBeingFired=[],bt.resolve(Un(function(){return t.on.ready.fire(t.vip)})).then(function K(){if(0<e.onReadyBeingFired.length){var I=e.onReadyBeingFired.reduce(it,Bt);return e.onReadyBeingFired=[],bt.resolve(Un(function(){return I(t.vip)})).then(K)}})}).finally(function(){e.openCanceller===r&&(e.onReadyBeingFired=null,e.isBeingOpened=!1)}).catch(function(K){e.dbOpenError=K;try{D&&D.abort()}catch{}return r===e.openCanceller&&t._close(),Ht(K)}).finally(function(){e.openComplete=!0,P()}).then(function(){var K;return k&&(K={},t.tables.forEach(function(I){I.schema.indexes.forEach(function(R){R.name&&(K["idb://".concat(t.name,"/").concat(I.name,"/").concat(R.name)]=new te(-1/0,[[[]]]))}),K["idb://".concat(t.name,"/").concat(I.name,"/")]=K["idb://".concat(t.name,"/").concat(I.name,"/:dels")]=new te(-1/0,[[[]]])}),Se(Ze).fire(K),Zn(K,!0)),t})}function Hn(t){function e(s){return t.next(s)}var n=a(e),r=a(function(s){return t.throw(s)});function a(s){return function(A){var b=s(A),A=b.value;return b.done?A:A&&typeof A.then=="function"?A.then(n,r):u(A)?Promise.all(A).then(n,r):n(A)}}return a(e)()}function yn(t,e,n){for(var r=u(t)?t.slice():[t],a=0;a<n;++a)r.push(e);return r}var Jr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return Z(Z({},t),{table:function(e){var n=t.table(e),r=n.schema,a={},s=[];function f(k,K,I){var R=Ge(k),N=a[R]=a[R]||[],z=k==null?0:typeof k=="string"?1:k.length,q=0<K,q=Z(Z({},I),{name:q?"".concat(R,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:q,keyTail:K,keyLength:z,extractKey:Rn(k),unique:!q&&I.unique});return N.push(q),q.isPrimaryKey||s.push(q),1<z&&f(z===2?k[0]:k.slice(0,z-1),K+1,I),N.sort(function(H,G){return H.keyTail-G.keyTail}),q}e=f(r.primaryKey.keyPath,0,r.primaryKey),a[":id"]=[e];for(var b=0,A=r.indexes;b<A.length;b++){var P=A[b];f(P.keyPath,0,P)}function D(k){var K,I=k.query.index;return I.isVirtual?Z(Z({},k),{query:{index:I.lowLevelIndex,range:(K=k.query.range,I=I.keyTail,{type:K.type===1?2:K.type,lower:yn(K.lower,K.lowerOpen?t.MAX_KEY:t.MIN_KEY,I),lowerOpen:!0,upper:yn(K.upper,K.upperOpen?t.MIN_KEY:t.MAX_KEY,I),upperOpen:!0})}}):k}return Z(Z({},n),{schema:Z(Z({},r),{primaryKey:e,indexes:s,getIndexByKeyPath:function(k){return(k=a[Ge(k)])&&k[0]}}),count:function(k){return n.count(D(k))},query:function(k){return n.query(D(k))},openCursor:function(k){var K=k.query.index,I=K.keyTail,R=K.isVirtual,N=K.keyLength;return R?n.openCursor(D(k)).then(function(q){return q&&z(q)}):n.openCursor(k);function z(q){return Object.create(q,{continue:{value:function(H){H!=null?q.continue(yn(H,k.reverse?t.MAX_KEY:t.MIN_KEY,I)):k.unique?q.continue(q.key.slice(0,N).concat(k.reverse?t.MIN_KEY:t.MAX_KEY,I)):q.continue()}},continuePrimaryKey:{value:function(H,G){q.continuePrimaryKey(yn(H,t.MAX_KEY,I),G)}},primaryKey:{get:function(){return q.primaryKey}},key:{get:function(){var H=q.key;return N===1?H[0]:H.slice(0,N)}},value:{get:function(){return q.value}}})}}})}})}};function Gn(t,e,n,r){return n=n||{},r=r||"",d(t).forEach(function(a){var s,f,b;x(e,a)?(s=t[a],f=e[a],typeof s=="object"&&typeof f=="object"&&s&&f?(b=nt(s))!==nt(f)?n[r+a]=e[a]:b==="Object"?Gn(s,f,n,r+a+"."):s!==f&&(n[r+a]=e[a]):s!==f&&(n[r+a]=e[a])):n[r+a]=void 0}),d(e).forEach(function(a){x(t,a)||(n[r+a]=e[a])}),n}function Vn(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var ti={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Z(Z({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey;return Z(Z({},n),{mutate:function(a){var s=kt.trans,f=s.table(e).hook,b=f.deleting,A=f.creating,P=f.updating;switch(a.type){case"add":if(A.fire===Bt)break;return s._promise("readwrite",function(){return D(a)},!0);case"put":if(A.fire===Bt&&P.fire===Bt)break;return s._promise("readwrite",function(){return D(a)},!0);case"delete":if(b.fire===Bt)break;return s._promise("readwrite",function(){return D(a)},!0);case"deleteRange":if(b.fire===Bt)break;return s._promise("readwrite",function(){return function k(K,I,R){return n.query({trans:K,values:!1,query:{index:r,range:I},limit:R}).then(function(N){var z=N.result;return D({type:"delete",keys:z,trans:K}).then(function(q){return 0<q.numFailures?Promise.reject(q.failures[0]):z.length<R?{failures:[],numFailures:0,lastResult:void 0}:k(K,Z(Z({},I),{lower:z[z.length-1],lowerOpen:!0}),R)})})}(a.trans,a.range,1e4)},!0)}return n.mutate(a);function D(k){var K,I,R,N=kt.trans,z=k.keys||Vn(r,k);if(!z)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?Z(Z({},k),{keys:z}):Z({},k)).type!=="delete"&&(k.values=F([],k.values)),k.keys&&(k.keys=F([],k.keys)),K=n,R=z,((I=k).type==="add"?Promise.resolve([]):K.getMany({trans:I.trans,keys:R,cache:"immutable"})).then(function(q){var H=z.map(function(G,tt){var ct,vt,lt,dt=q[tt],gt={onerror:null,onsuccess:null};return k.type==="delete"?b.fire.call(gt,G,dt,N):k.type==="add"||dt===void 0?(ct=A.fire.call(gt,G,k.values[tt],N),G==null&&ct!=null&&(k.keys[tt]=G=ct,r.outbound||X(k.values[tt],r.keyPath,G))):(ct=Gn(dt,k.values[tt]),(vt=P.fire.call(gt,ct,G,dt,N))&&(lt=k.values[tt],Object.keys(vt).forEach(function(yt){x(lt,yt)?lt[yt]=vt[yt]:X(lt,yt,vt[yt])}))),gt});return n.mutate(k).then(function(G){for(var tt=G.failures,ct=G.results,vt=G.numFailures,G=G.lastResult,lt=0;lt<z.length;++lt){var dt=(ct||z)[lt],gt=H[lt];dt==null?gt.onerror&&gt.onerror(tt[lt]):gt.onsuccess&&gt.onsuccess(k.type==="put"&&q[lt]?k.values[lt]:dt)}return{failures:tt,results:ct,numFailures:vt,lastResult:G}}).catch(function(G){return H.forEach(function(tt){return tt.onerror&&tt.onerror(G)}),Promise.reject(G)})})}}})}})}};function Sr(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],a=0,s=0;a<e.keys.length&&s<t.length;++a)Ft(e.keys[a],t[s])===0&&(r.push(n?$(e.values[a]):e.values[a]),++s);return r.length===t.length?r:null}catch{return null}}var ei={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Z(Z({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var a=Sr(r.keys,r.trans._cache,r.cache==="clone");return a?bt.resolve(a):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?$(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function Er(t,e){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!e.schema.primaryKey.outbound}function Or(t,e){switch(t){case"query":return e.values&&!e.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ni={stack:"dbcore",level:0,name:"Observability",create:function(t){var e=t.schema.name,n=new te(t.MIN_KEY,t.MAX_KEY);return Z(Z({},t),{transaction:function(r,a,s){if(kt.subscr&&a!=="readonly")throw new pt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(kt.querier));return t.transaction(r,a,s)},table:function(r){var a=t.table(r),s=a.schema,f=s.primaryKey,k=s.indexes,b=f.extractKey,A=f.outbound,P=f.autoIncrement&&k.filter(function(I){return I.compound&&I.keyPath.includes(f.keyPath)}),D=Z(Z({},a),{mutate:function(I){function R(yt){return yt="idb://".concat(e,"/").concat(r,"/").concat(yt),G[yt]||(G[yt]=new te)}var N,z,q,H=I.trans,G=I.mutatedParts||(I.mutatedParts={}),tt=R(""),ct=R(":dels"),vt=I.type,gt=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Vn(f,I).filter(function(yt){return yt}),I.values]:[],lt=gt[0],dt=gt[1],gt=I.trans._cache;return u(lt)?(tt.addKeys(lt),(gt=vt==="delete"||lt.length===dt.length?Sr(lt,gt):null)||ct.addKeys(lt),(gt||dt)&&(N=R,z=gt,q=dt,s.indexes.forEach(function(yt){var xt=N(yt.name||"");function zt(Dt){return Dt!=null?yt.extractKey(Dt):null}function Rt(Dt){return yt.multiEntry&&u(Dt)?Dt.forEach(function(se){return xt.addKey(se)}):xt.addKey(Dt)}(z||q).forEach(function(Dt,ee){var Pt=z&&zt(z[ee]),ee=q&&zt(q[ee]);Ft(Pt,ee)!==0&&(Pt!=null&&Rt(Pt),ee!=null&&Rt(ee))})}))):lt?(dt={from:(dt=lt.lower)!==null&&dt!==void 0?dt:t.MIN_KEY,to:(dt=lt.upper)!==null&&dt!==void 0?dt:t.MAX_KEY},ct.add(dt),tt.add(dt)):(tt.add(n),ct.add(n),s.indexes.forEach(function(yt){return R(yt.name).add(n)})),a.mutate(I).then(function(yt){return!lt||I.type!=="add"&&I.type!=="put"||(tt.addKeys(yt.results),P&&P.forEach(function(xt){for(var zt=I.values.map(function(Pt){return xt.extractKey(Pt)}),Rt=xt.keyPath.findIndex(function(Pt){return Pt===f.keyPath}),Dt=0,se=yt.results.length;Dt<se;++Dt)zt[Dt][Rt]=yt.results[Dt];R(xt.name).addKeys(zt)})),H.mutatedParts=pn(H.mutatedParts||{},G),yt})}}),k=function(R){var N=R.query,R=N.index,N=N.range;return[R,new te((R=N.lower)!==null&&R!==void 0?R:t.MIN_KEY,(N=N.upper)!==null&&N!==void 0?N:t.MAX_KEY)]},K={get:function(I){return[f,new te(I.key)]},getMany:function(I){return[f,new te().addKeys(I.keys)]},count:k,query:k,openCursor:k};return d(K).forEach(function(I){D[I]=function(R){var N=kt.subscr,z=!!N,q=Er(kt,a)&&Or(I,R)?R.obsSet={}:N;if(z){var H=function(dt){return dt="idb://".concat(e,"/").concat(r,"/").concat(dt),q[dt]||(q[dt]=new te)},G=H(""),tt=H(":dels"),N=K[I](R),z=N[0],N=N[1];if((I==="query"&&z.isPrimaryKey&&!R.values?tt:H(z.name||"")).add(N),!z.isPrimaryKey){if(I!=="count"){var ct=I==="query"&&A&&R.values&&a.query(Z(Z({},R),{values:!1}));return a[I].apply(this,arguments).then(function(dt){if(I==="query"){if(A&&R.values)return ct.then(function(zt){return zt=zt.result,G.addKeys(zt),dt});var gt=R.values?dt.result.map(b):dt.result;(R.values?G:tt).addKeys(gt)}else if(I==="openCursor"){var yt=dt,xt=R.values;return yt&&Object.create(yt,{key:{get:function(){return tt.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var zt=yt.primaryKey;return tt.addKey(zt),zt}},value:{get:function(){return xt&&G.addKey(yt.primaryKey),yt.value}}})}return dt})}tt.add(n)}}return a[I].apply(this,arguments)}}),D}})}};function Cr(t,e,n){if(n.numFailures===0)return e;if(e.type==="deleteRange")return null;var r=e.keys?e.keys.length:"values"in e&&e.values?e.values.length:1;return n.numFailures===r?null:(e=Z({},e),u(e.keys)&&(e.keys=e.keys.filter(function(a,s){return!(s in n.failures)})),"values"in e&&u(e.values)&&(e.values=e.values.filter(function(a,s){return!(s in n.failures)})),e)}function Yn(t,e){return n=t,((r=e).lower===void 0||(r.lowerOpen?0<Ft(n,r.lower):0<=Ft(n,r.lower)))&&(t=t,(e=e).upper===void 0||(e.upperOpen?Ft(t,e.upper)<0:Ft(t,e.upper)<=0));var n,r}function Ar(t,e,K,r,a,s){if(!K||K.length===0)return t;var f=e.query.index,b=f.multiEntry,A=e.query.range,P=r.schema.primaryKey.extractKey,D=f.extractKey,k=(f.lowLevelIndex||f).extractKey,K=K.reduce(function(I,R){var N=I,z=[];if(R.type==="add"||R.type==="put")for(var q=new te,H=R.values.length-1;0<=H;--H){var G,tt=R.values[H],ct=P(tt);q.hasKey(ct)||(G=D(tt),(b&&u(G)?G.some(function(yt){return Yn(yt,A)}):Yn(G,A))&&(q.addKey(ct),z.push(tt)))}switch(R.type){case"add":var vt=new te().addKeys(e.values?I.map(function(xt){return P(xt)}):I),N=I.concat(e.values?z.filter(function(xt){return xt=P(xt),!vt.hasKey(xt)&&(vt.addKey(xt),!0)}):z.map(function(xt){return P(xt)}).filter(function(xt){return!vt.hasKey(xt)&&(vt.addKey(xt),!0)}));break;case"put":var lt=new te().addKeys(R.values.map(function(xt){return P(xt)}));N=I.filter(function(xt){return!lt.hasKey(e.values?P(xt):xt)}).concat(e.values?z:z.map(function(xt){return P(xt)}));break;case"delete":var dt=new te().addKeys(R.keys);N=I.filter(function(xt){return!dt.hasKey(e.values?P(xt):xt)});break;case"deleteRange":var gt=R.range;N=I.filter(function(xt){return!Yn(P(xt),gt)})}return N},t);return K===t?t:(K.sort(function(I,R){return Ft(k(I),k(R))||Ft(P(I),P(R))}),e.limit&&e.limit<1/0&&(K.length>e.limit?K.length=e.limit:t.length===e.limit&&K.length<e.limit&&(a.dirty=!0)),s?Object.freeze(K):K)}function Ir(t,e){return Ft(t.lower,e.lower)===0&&Ft(t.upper,e.upper)===0&&!!t.lowerOpen==!!e.lowerOpen&&!!t.upperOpen==!!e.upperOpen}function ri(t,e){return function(n,r,a,s){if(n===void 0)return r!==void 0?-1:0;if(r===void 0)return 1;if((r=Ft(n,r))===0){if(a&&s)return 0;if(a)return 1;if(s)return-1}return r}(t.lower,e.lower,t.lowerOpen,e.lowerOpen)<=0&&0<=function(n,r,a,s){if(n===void 0)return r!==void 0?1:0;if(r===void 0)return-1;if((r=Ft(n,r))===0){if(a&&s)return 0;if(a)return-1;if(s)return 1}return r}(t.upper,e.upper,t.upperOpen,e.upperOpen)}function ii(t,e,n,r){t.subscribers.add(n),r.addEventListener("abort",function(){var a,s;t.subscribers.delete(n),t.subscribers.size===0&&(a=t,s=e,setTimeout(function(){a.subscribers.size===0&&It(s,a)},3e3))})}var ai={stack:"dbcore",level:0,name:"Cache",create:function(t){var e=t.schema.name;return Z(Z({},t),{transaction:function(n,r,a){var s,f,b=t.transaction(n,r,a);return r==="readwrite"&&(f=(s=new AbortController).signal,a=function(A){return function(){if(s.abort(),r==="readwrite"){for(var P=new Set,D=0,k=n;D<k.length;D++){var K=k[D],I=Ie["idb://".concat(e,"/").concat(K)];if(I){var R=t.table(K),N=I.optimisticOps.filter(function(xt){return xt.trans===b});if(b._explicit&&A&&b.mutatedParts)for(var z=0,q=Object.values(I.queries.query);z<q.length;z++)for(var H=0,G=(vt=q[z]).slice();H<G.length;H++)Mn((lt=G[H]).obsSet,b.mutatedParts)&&(It(vt,lt),lt.subscribers.forEach(function(xt){return P.add(xt)}));else if(0<N.length){I.optimisticOps=I.optimisticOps.filter(function(xt){return xt.trans!==b});for(var tt=0,ct=Object.values(I.queries.query);tt<ct.length;tt++)for(var vt,lt,dt,gt=0,yt=(vt=ct[tt]).slice();gt<yt.length;gt++)(lt=yt[gt]).res!=null&&b.mutatedParts&&(A&&!lt.dirty?(dt=Object.isFrozen(lt.res),dt=Ar(lt.res,lt.req,N,R,lt,dt),lt.dirty?(It(vt,lt),lt.subscribers.forEach(function(xt){return P.add(xt)})):dt!==lt.res&&(lt.res=dt,lt.promise=bt.resolve({result:dt}))):(lt.dirty&&It(vt,lt),lt.subscribers.forEach(function(xt){return P.add(xt)})))}}}P.forEach(function(xt){return xt()})}}},b.addEventListener("abort",a(!1),{signal:f}),b.addEventListener("error",a(!1),{signal:f}),b.addEventListener("complete",a(!0),{signal:f})),b},table:function(n){var r=t.table(n),a=r.schema.primaryKey;return Z(Z({},r),{mutate:function(s){var f=kt.trans;if(a.outbound||f.db._options.cache==="disabled"||f.explicit||f.idbtrans.mode!=="readwrite")return r.mutate(s);var b=Ie["idb://".concat(e,"/").concat(n)];return b?(f=r.mutate(s),s.type!=="add"&&s.type!=="put"||!(50<=s.values.length||Vn(a,s).some(function(A){return A==null}))?(b.optimisticOps.push(s),s.mutatedParts&&mn(s.mutatedParts),f.then(function(A){0<A.numFailures&&(It(b.optimisticOps,s),(A=Cr(0,s,A))&&b.optimisticOps.push(A),s.mutatedParts&&mn(s.mutatedParts))}),f.catch(function(){It(b.optimisticOps,s),s.mutatedParts&&mn(s.mutatedParts)})):f.then(function(A){var P=Cr(0,Z(Z({},s),{values:s.values.map(function(D,k){var K;return A.failures[k]?D:(D=(K=a.keyPath)!==null&&K!==void 0&&K.includes(".")?$(D):Z({},D),X(D,a.keyPath,A.results[k]),D)})}),A);b.optimisticOps.push(P),queueMicrotask(function(){return s.mutatedParts&&mn(s.mutatedParts)})}),f):r.mutate(s)},query:function(s){if(!Er(kt,r)||!Or("query",s))return r.query(s);var f=((P=kt.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",k=kt,b=k.requery,A=k.signal,P=function(R,N,z,q){var H=Ie["idb://".concat(R,"/").concat(N)];if(!H)return[];if(!(N=H.queries[z]))return[null,!1,H,null];var G=N[(q.query?q.query.index.name:null)||""];if(!G)return[null,!1,H,null];switch(z){case"query":var tt=G.find(function(ct){return ct.req.limit===q.limit&&ct.req.values===q.values&&Ir(ct.req.query.range,q.query.range)});return tt?[tt,!0,H,G]:[G.find(function(ct){return("limit"in ct.req?ct.req.limit:1/0)>=q.limit&&(!q.values||ct.req.values)&&ri(ct.req.query.range,q.query.range)}),!1,H,G];case"count":return tt=G.find(function(ct){return Ir(ct.req.query.range,q.query.range)}),[tt,!!tt,H,G]}}(e,n,"query",s),D=P[0],k=P[1],K=P[2],I=P[3];return D&&k?D.obsSet=s.obsSet:(k=r.query(s).then(function(R){var N=R.result;if(D&&(D.res=N),f){for(var z=0,q=N.length;z<q;++z)Object.freeze(N[z]);Object.freeze(N)}else R.result=$(N);return R}).catch(function(R){return I&&D&&It(I,D),Promise.reject(R)}),D={obsSet:s.obsSet,promise:k,subscribers:new Set,type:"query",req:s,dirty:!1},I?I.push(D):(I=[D],(K=K||(Ie["idb://".concat(e,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[s.query.index.name||""]=I)),ii(D,I,b,A),D.promise.then(function(R){return{result:Ar(R.result,s,K?.optimisticOps,r,D,f)}})}})}})}};function vn(t,e){return new Proxy(t,{get:function(n,r,a){return r==="db"?e:Reflect.get(n,r,a)}})}var me=(Gt.prototype.version=function(t){if(isNaN(t)||t<.1)throw new pt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new pt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter(function(r){return r._cfg.version===t})[0];return n||(n=new this.Version(t),e.push(n),e.sort(Vr),n.stores({}),this._state.autoSchema=!1,n)},Gt.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||kt.letThrough||this._vip)?t():new bt(function(n,r){if(e._state.openComplete)return r(new pt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return void r(new pt.DatabaseClosed);e.open().catch(Bt)}e._state.dbReadyPromise.then(n,r)}).then(t)},Gt.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,a=t.name;return a&&this.unuse({stack:e,name:a}),t=this._middlewares[e]||(this._middlewares[e]=[]),t.push({stack:e,create:n,level:r??10,name:a}),t.sort(function(s,f){return s.level-f.level}),this},Gt.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(function(a){return r?a.create!==r:!!n&&a.name!==n})),this},Gt.prototype.open=function(){var t=this;return Oe(ue,function(){return Qr(t)})},Gt.prototype._close=function(){var t=this._state,e=Fe.indexOf(this);if(0<=e&&Fe.splice(e,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new bt(function(n){t.dbReadyResolve=n}),t.openCanceller=new bt(function(n,r){t.cancelOpen=r}))},Gt.prototype.close=function(n){var e=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;e?(n.isBeingOpened&&n.cancelOpen(new pt.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new pt.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},Gt.prototype.delete=function(t){var e=this;t===void 0&&(t={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",r=this._state;return new bt(function(a,s){function f(){e.close(t);var b=e._deps.indexedDB.deleteDatabase(e.name);b.onsuccess=Wt(function(){var A,P,D;A=e._deps,P=e.name,D=A.indexedDB,A=A.IDBKeyRange,Kn(D)||P===en||Nn(D,A).delete(P).catch(Bt),a()}),b.onerror=le(s),b.onblocked=e._fireOnBlocked}if(n)throw new pt.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(f):f()})},Gt.prototype.backendDB=function(){return this.idbdb},Gt.prototype.isOpen=function(){return this.idbdb!==null},Gt.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},Gt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Gt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Gt.prototype,"tables",{get:function(){var t=this;return d(this._allTables).map(function(e){return t._allTables[e]})},enumerable:!1,configurable:!0}),Gt.prototype.transaction=function(){var t=function(e,n,r){var a=arguments.length;if(a<2)throw new pt.InvalidArgument("Too few arguments");for(var s=new Array(a-1);--a;)s[a-1]=arguments[a];return r=s.pop(),[e,ht(s),r]}.apply(this,arguments);return this._transaction.apply(this,t)},Gt.prototype._transaction=function(t,e,n){var r=this,a=kt.trans;a&&a.db===this&&t.indexOf("!")===-1||(a=null);var s,f,b=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");try{if(f=e.map(function(P){if(P=P instanceof r.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),t=="r"||t===On)s=On;else{if(t!="rw"&&t!=Cn)throw new pt.InvalidArgument("Invalid transaction mode: "+t);s=Cn}if(a){if(a.mode===On&&s===Cn){if(!b)throw new pt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&f.forEach(function(P){if(a&&a.storeNames.indexOf(P)===-1){if(!b)throw new pt.SubTransaction("Table "+P+" not included in parent transaction.");a=null}}),b&&a&&!a.active&&(a=null)}}catch(P){return a?a._promise(null,function(D,k){k(P)}):Ht(P)}var A=function P(D,k,K,I,R){return bt.resolve().then(function(){var N=kt.transless||kt,z=D._createTransaction(k,K,D._dbSchema,I);if(z.explicit=!0,N={trans:z,transless:N},I)z.idbtrans=I.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(G){return G.name===Vt.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return P(D,k,K,null,R)})):Ht(G)}var q,H=V(R);return H&&je(),N=bt.follow(function(){var G;(q=R.call(z,z))&&(H?(G=we.bind(null,null),q.then(G,G)):typeof q.next=="function"&&typeof q.throw=="function"&&(q=Hn(q)))},N),(q&&typeof q.then=="function"?bt.resolve(q).then(function(G){return z.active?G:Ht(new pt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):N.then(function(){return q})).then(function(G){return I&&z._resolve(),z._completion.then(function(){return G})}).catch(function(G){return z._reject(G),Ht(G)})})}.bind(null,this,s,f,a,n);return a?a._promise(s,A,"lock"):kt.trans?Oe(kt.transless,function(){return r._whenReady(A)}):this._whenReady(A)},Gt.prototype.table=function(t){if(!x(this._allTables,t))throw new pt.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},Gt);function Gt(t,e){var n=this;this._middlewares={},this.verno=0;var r=Gt.dependencies;this._options=e=Z({addons:Gt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},e),this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange},r=e.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,s,f,b,A,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Bt,dbReadyPromise:null,cancelOpen:Bt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:e.autoOpen};P.dbReadyPromise=new bt(function(k){P.dbReadyResolve=k}),P.openCanceller=new bt(function(k,K){P.cancelOpen=K}),this._state=P,this.name=t,this.on=Le(this,"populate","blocked","versionchange","close",{ready:[it,Bt]}),this.on.ready.subscribe=B(this.on.ready.subscribe,function(k){return function(K,I){Gt.vip(function(){var R,N=n._state;N.openComplete?(N.dbOpenError||bt.resolve().then(K),I&&k(K)):N.onReadyBeingFired?(N.onReadyBeingFired.push(K),I&&k(K)):(k(K),R=n,I||k(function z(){R.on.ready.unsubscribe(K),R.on.ready.unsubscribe(z)}))})}}),this.Collection=(a=this,Me(Lr.prototype,function(q,z){this.db=a;var I=or,R=null;if(z)try{I=z()}catch(H){R=H}var N=q._ctx,z=N.table,q=z.hook.reading.fire;this._ctx={table:z,index:N.index,isPrimKey:!N.index||z.schema.primKey.keyPath&&N.index===z.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:N.or,valueMapper:q!==Qt?q:null}})),this.Table=(s=this,Me(lr.prototype,function(k,K,I){this.db=s,this._tx=I,this.name=k,this.schema=K,this.hook=s._allTables[k]?s._allTables[k].hook:Le(null,{creating:[Y,Bt],reading:[i,Qt],updating:[p,Bt],deleting:[g,Bt]})})),this.Transaction=(f=this,Me(Wr.prototype,function(k,K,I,R,N){var z=this;this.db=f,this.mode=k,this.storeNames=K,this.schema=I,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=Le(this,"complete","error","abort"),this.parent=N||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bt(function(q,H){z._resolve=q,z._reject=H}),this._completion.then(function(){z.active=!1,z.on.complete.fire()},function(q){var H=z.active;return z.active=!1,z.on.error.fire(q),z.parent?z.parent._reject(q):H&&z.idbtrans&&z.idbtrans.abort(),Ht(q)})})),this.Version=(b=this,Me($r.prototype,function(k){this.db=b,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(A=this,Me(mr.prototype,function(k,K,I){if(this.db=A,this._ctx={table:k,index:K===":id"?null:K,or:I},this._cmp=this._ascending=Ft,this._descending=function(R,N){return Ft(N,R)},this._max=function(R,N){return 0<Ft(R,N)?R:N},this._min=function(R,N){return Ft(R,N)<0?R:N},this._IDBKeyRange=A._deps.IDBKeyRange,!this._IDBKeyRange)throw new pt.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=He(e.IDBKeyRange),this._createTransaction=function(k,K,I,R){return new n.Transaction(k,K,I,n._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(k){n.on("blocked").fire(k),Fe.filter(function(K){return K.name===n.name&&K!==n&&!K._state.vcFired}).map(function(K){return K.on("versionchange").fire(k)})},this.use(ei),this.use(ai),this.use(ni),this.use(Jr),this.use(ti);var D=new Proxy(this,{get:function(k,K,I){if(K==="_vip")return!0;if(K==="table")return function(N){return vn(n.table(N),D)};var R=Reflect.get(k,K,I);return R instanceof lr?vn(R,D):K==="tables"?R.map(function(N){return vn(N,D)}):K==="_createTransaction"?function(){return vn(R.apply(this,arguments),D)}:R}});this.vip=D,r.forEach(function(k){return k(n)})}var gn,ce=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",oi=(Xn.prototype.subscribe=function(t,e,n){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:e,complete:n})},Xn.prototype[ce]=function(){return this},Xn);function Xn(t){this._subscribe=t}try{gn={indexedDB:m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.msIndexedDB,IDBKeyRange:m.IDBKeyRange||m.webkitIDBKeyRange}}catch{gn={indexedDB:null,IDBKeyRange:null}}function Pr(t){var e,n=!1,r=new oi(function(a){var s=V(t),f,b=!1,A={},P={},D={get closed(){return b},unsubscribe:function(){b||(b=!0,f&&f.abort(),k&&Se.storagemutated.unsubscribe(I))}};a.start&&a.start(D);var k=!1,K=function(){return En(R)},I=function(N){pn(A,N),Mn(P,A)&&K()},R=function(){var N,z,q;!b&&gn.indexedDB&&(A={},N={},f&&f.abort(),f=new AbortController,q=function(H){var G=Re();try{s&&je();var tt=_e(t,H);return tt=s?tt.finally(we):tt}finally{G&&De()}}(z={subscr:N,signal:f.signal,requery:K,querier:t,trans:null}),Promise.resolve(q).then(function(H){n=!0,e=H,b||z.signal.aborted||(A={},function(G){for(var tt in G)if(x(G,tt))return;return 1}(P=N)||k||(Se(Ze,I),k=!0),En(function(){return!b&&a.next&&a.next(H)}))},function(H){n=!1,["DatabaseClosedError","AbortError"].includes(H?.name)||b||En(function(){b||a.error&&a.error(H)})}))};return setTimeout(K,0),D});return r.hasValue=function(){return n},r.getValue=function(){return e},r}var Pe=me;function $n(t){var e=Ee;try{Ee=!0,Se.storagemutated.fire(t),Zn(t,!0)}finally{Ee=e}}O(Pe,Z(Z({},Lt),{delete:function(t){return new Pe(t,{addons:[]}).delete()},exists:function(t){return new Pe(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return e=Pe.dependencies,n=e.indexedDB,e=e.IDBKeyRange,(Kn(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==en})}):Nn(n,e).toCollection().primaryKeys()).then(t)}catch{return Ht(new pt.MissingAPI)}var e,n},defineClass:function(){return function(t){y(this,t)}},ignoreTransaction:function(t){return kt.trans?Oe(kt.transless,t):t()},vip:Un,async:function(t){return function(){try{var e=Hn(t.apply(this,arguments));return e&&typeof e.then=="function"?e:bt.resolve(e)}catch(n){return Ht(n)}}},spawn:function(t,e,n){try{var r=Hn(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:bt.resolve(r)}catch(a){return Ht(a)}},currentTransaction:{get:function(){return kt.trans||null}},waitFor:function(t,e){return e=bt.resolve(typeof t=="function"?Pe.ignoreTransaction(t):t).timeout(e||6e4),kt.trans?kt.trans.waitFor(e):e},Promise:bt,debug:{get:function(){return rt},set:function(t){M(t)}},derive:c,extend:y,props:O,override:B,Events:Le,on:Se,liveQuery:Pr,extendObservabilitySet:pn,getByKeyPath:et,setByKeyPath:X,delByKeyPath:function(t,e){typeof e=="string"?X(t,e,void 0):"length"in e&&[].map.call(e,function(n){X(t,n,void 0)})},shallowClone:st,deepClone:$,getObjectDiff:Gn,cmp:Ft,asap:U,minKey:-1/0,addons:[],connections:Fe,errnames:Vt,dependencies:gn,cache:Ie,semVer:"4.0.11",version:"4.0.11".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)})})),Pe.maxKey=He(Pe.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Se(Ze,function(t){Ee||(t=new CustomEvent(zn,{detail:t}),Ee=!0,dispatchEvent(t),Ee=!1)}),addEventListener(zn,function(t){t=t.detail,Ee||$n(t)}));var Ue,Ee=!1,zr=function(){};return typeof BroadcastChannel<"u"&&((zr=function(){(Ue=new BroadcastChannel(zn)).onmessage=function(t){return t.data&&$n(t.data)}})(),typeof Ue.unref=="function"&&Ue.unref(),Se(Ze,function(t){Ee||Ue.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!me.disableBfCache&&t.persisted){rt&&console.debug("Dexie: handling persisted pagehide"),Ue?.close();for(var e=0,n=Fe;e<n.length;e++)n[e].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(t){!me.disableBfCache&&t.persisted&&(rt&&console.debug("Dexie: handling persisted pageshow"),zr(),$n({all:new te(-1/0,[[]])}))})),bt.rejectionMapper=function(t,e){return!t||t instanceof Et||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Zt[t.name]?t:(e=new Zt[t.name](e||t.message,t),"stack"in t&&_(e,"stack",{get:function(){return this.inner.stack}}),e)},M(rt),Z(me,Object.freeze({__proto__:null,Dexie:me,liveQuery:Pr,Entity:sr,cmp:Ft,PropModification:qe,replacePrefix:function(t,e){return new qe({replacePrefix:[t,e]})},add:function(t){return new qe({add:t})},remove:function(t){return new qe({remove:t})},default:me,RangeSet:te,mergeRanges:Ye,rangesOverlap:_r}),{default:me}),me})}(wn)),wn.exports}var li=ci();const tr=si(li),Tr=Symbol.for("Dexie"),er=globalThis[Tr]||(globalThis[Tr]=tr);if(tr.semVer!==er.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${tr.semVer} and ${er.semVer}`);const{liveQuery:fi,mergeRanges:hi,rangesOverlap:di,RangeSet:pi,cmp:mi,Entity:yi,PropModification:vi,replacePrefix:gi,add:bi,remove:_i}=er;function Rr(Jt,kn){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,Z){return C.__proto__=Z,C},Rr(Jt,kn)}function wi(Jt){if(Jt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Jt}function _n(Jt){throw new Error('Could not dynamically require "'+Jt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Dr;function ki(){return Dr||(Dr=1,function(Jt,kn){(function(C){Jt.exports=C()})(function(){return function C(Z,F,m){function d(E,T){if(!F[E]){if(!Z[E]){var x=typeof _n=="function"&&_n;if(!T&&x)return x(E,!0);if(u)return u(E,!0);var O=new Error("Cannot find module '"+E+"'");throw O.code="MODULE_NOT_FOUND",O}var l=F[E]={exports:{}};Z[E][0].call(l.exports,function(_){var c=Z[E][1][_];return d(c||_)},l,l.exports,C,Z,F,m)}return F[E].exports}for(var u=typeof _n=="function"&&_n,y=0;y<m.length;y++)d(m[y]);return d}({1:[function(C,Z,F){var m=C("./utils"),d=C("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";F.encode=function(y){for(var E,T,x,O,l,_,c,v=[],h=0,w=y.length,B=w,L=m.getTypeOf(y)!=="string";h<y.length;)B=w-h,x=L?(E=y[h++],T=h<w?y[h++]:0,h<w?y[h++]:0):(E=y.charCodeAt(h++),T=h<w?y.charCodeAt(h++):0,h<w?y.charCodeAt(h++):0),O=E>>2,l=(3&E)<<4|T>>4,_=1<B?(15&T)<<2|x>>6:64,c=2<B?63&x:64,v.push(u.charAt(O)+u.charAt(l)+u.charAt(_)+u.charAt(c));return v.join("")},F.decode=function(y){var E,T,x,O,l,_,c=0,v=0,h="data:";if(y.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var w,B=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===u.charAt(64)&&B--,y.charAt(y.length-2)===u.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=d.uint8array?new Uint8Array(0|B):new Array(0|B);c<y.length;)E=u.indexOf(y.charAt(c++))<<2|(O=u.indexOf(y.charAt(c++)))>>4,T=(15&O)<<4|(l=u.indexOf(y.charAt(c++)))>>2,x=(3&l)<<6|(_=u.indexOf(y.charAt(c++))),w[v++]=E,l!==64&&(w[v++]=T),_!==64&&(w[v++]=x);return w}},{"./support":30,"./utils":32}],2:[function(C,Z,F){var m=C("./external"),d=C("./stream/DataWorker"),u=C("./stream/Crc32Probe"),y=C("./stream/DataLengthProbe");function E(T,x,O,l,_){this.compressedSize=T,this.uncompressedSize=x,this.crc32=O,this.compression=l,this.compressedContent=_}E.prototype={getContentWorker:function(){var T=new d(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),x=this;return T.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),T},getCompressedWorker:function(){return new d(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(T,x,O){return T.pipe(new u).pipe(new y("uncompressedSize")).pipe(x.compressWorker(O)).pipe(new y("compressedSize")).withStreamInfo("compression",x)},Z.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(C,Z,F){var m=C("./stream/GenericWorker");F.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},F.DEFLATE=C("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(C,Z,F){var m=C("./utils"),d=function(){for(var u,y=[],E=0;E<256;E++){u=E;for(var T=0;T<8;T++)u=1&u?3988292384^u>>>1:u>>>1;y[E]=u}return y}();Z.exports=function(u,y){return u!==void 0&&u.length?m.getTypeOf(u)!=="string"?function(E,T,x,O){var l=d,_=O+x;E^=-1;for(var c=O;c<_;c++)E=E>>>8^l[255&(E^T[c])];return-1^E}(0|y,u,u.length,0):function(E,T,x,O){var l=d,_=O+x;E^=-1;for(var c=O;c<_;c++)E=E>>>8^l[255&(E^T.charCodeAt(c))];return-1^E}(0|y,u,u.length,0):0}},{"./utils":32}],5:[function(C,Z,F){F.base64=!1,F.binary=!1,F.dir=!1,F.createFolders=!0,F.date=null,F.compression=null,F.compressionOptions=null,F.comment=null,F.unixPermissions=null,F.dosPermissions=null},{}],6:[function(C,Z,F){var m=null;m=typeof Promise<"u"?Promise:C("lie"),Z.exports={Promise:m}},{lie:37}],7:[function(C,Z,F){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=C("pako"),u=C("./utils"),y=C("./stream/GenericWorker"),E=m?"uint8array":"array";function T(x,O){y.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=O,this.meta={}}F.magic="\b\0",u.inherits(T,y),T.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(E,x.data),!1)},T.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(O){x.push({data:O,meta:x.meta})}},F.compressWorker=function(x){return new T("Deflate",x)},F.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(C,Z,F){function m(l,_){var c,v="";for(c=0;c<_;c++)v+=String.fromCharCode(255&l),l>>>=8;return v}function d(l,_,c,v,h,w){var B,L,U=l.file,et=l.compression,X=w!==E.utf8encode,st=u.transformTo("string",w(U.name)),Q=u.transformTo("string",E.utf8encode(U.name)),ht=U.comment,Ct=u.transformTo("string",w(ht)),S=u.transformTo("string",E.utf8encode(ht)),$=Q.length!==U.name.length,o=S.length!==ht.length,nt="",At="",ot="",It=U.dir,at=U.date,Ot={crc32:0,compressedSize:0,uncompressedSize:0};_&&!c||(Ot.crc32=l.crc32,Ot.compressedSize=l.compressedSize,Ot.uncompressedSize=l.uncompressedSize);var V=0;_&&(V|=8),X||!$&&!o||(V|=2048);var W=0,Et=0;It&&(W|=16),h==="UNIX"?(Et=798,W|=function(mt,Ut){var Vt=mt;return mt||(Vt=Ut?16893:33204),(65535&Vt)<<16}(U.unixPermissions,It)):(Et=20,W|=function(mt){return 63&(mt||0)}(U.dosPermissions)),B=at.getUTCHours(),B<<=6,B|=at.getUTCMinutes(),B<<=5,B|=at.getUTCSeconds()/2,L=at.getUTCFullYear()-1980,L<<=4,L|=at.getUTCMonth()+1,L<<=5,L|=at.getUTCDate(),$&&(At=m(1,1)+m(T(st),4)+Q,nt+="up"+m(At.length,2)+At),o&&(ot=m(1,1)+m(T(Ct),4)+S,nt+="uc"+m(ot.length,2)+ot);var _t="";return _t+=`
\0`,_t+=m(V,2),_t+=et.magic,_t+=m(B,2),_t+=m(L,2),_t+=m(Ot.crc32,4),_t+=m(Ot.compressedSize,4),_t+=m(Ot.uncompressedSize,4),_t+=m(st.length,2),_t+=m(nt.length,2),{fileRecord:x.LOCAL_FILE_HEADER+_t+st+nt,dirRecord:x.CENTRAL_FILE_HEADER+m(Et,2)+_t+m(Ct.length,2)+"\0\0\0\0"+m(W,4)+m(v,4)+st+nt+Ct}}var u=C("../utils"),y=C("../stream/GenericWorker"),E=C("../utf8"),T=C("../crc32"),x=C("../signature");function O(l,_,c,v){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=c,this.encodeFileName=v,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(O,y),O.prototype.push=function(l){var _=l.meta.percent||0,c=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,y.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:c?(_+100*(c-v-1))/c:100}}))},O.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var _=this.streamFiles&&!l.file.dir;if(_){var c=d(l,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},O.prototype.closedSource=function(l){this.accumulate=!1;var _=this.streamFiles&&!l.file.dir,c=d(l,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),_)this.push({data:function(v){return x.DATA_DESCRIPTOR+m(v.crc32,4)+m(v.compressedSize,4)+m(v.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},O.prototype.flush=function(){for(var l=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var c=this.bytesWritten-l,v=function(h,w,B,L,U){var et=u.transformTo("string",U(L));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(h,2)+m(h,2)+m(w,4)+m(B,4)+m(et.length,2)+et}(this.dirRecords.length,c,l,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},O.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},O.prototype.registerPrevious=function(l){this._sources.push(l);var _=this;return l.on("data",function(c){_.processChunk(c)}),l.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),l.on("error",function(c){_.error(c)}),this},O.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},O.prototype.error=function(l){var _=this._sources;if(!y.prototype.error.call(this,l))return!1;for(var c=0;c<_.length;c++)try{_[c].error(l)}catch{}return!0},O.prototype.lock=function(){y.prototype.lock.call(this);for(var l=this._sources,_=0;_<l.length;_++)l[_].lock()},Z.exports=O},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(C,Z,F){var m=C("../compressions"),d=C("./ZipFileWorker");F.generateWorker=function(u,y,E){var T=new d(y.streamFiles,E,y.platform,y.encodeFileName),x=0;try{u.forEach(function(O,l){x++;var _=function(w,B){var L=w||B,U=m[L];if(!U)throw new Error(L+" is not a valid compression method !");return U}(l.options.compression,y.compression),c=l.options.compressionOptions||y.compressionOptions||{},v=l.dir,h=l.date;l._compressWorker(_,c).withStreamInfo("file",{name:O,dir:v,date:h,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(T)}),T.entriesCount=x}catch(O){T.error(O)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(C,Z,F){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new m;for(var u in this)typeof this[u]!="function"&&(d[u]=this[u]);return d}}(m.prototype=C("./object")).loadAsync=C("./load"),m.support=C("./support"),m.defaults=C("./defaults"),m.version="3.10.1",m.loadAsync=function(d,u){return new m().loadAsync(d,u)},m.external=C("./external"),Z.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(C,Z,F){var m=C("./utils"),d=C("./external"),u=C("./utf8"),y=C("./zipEntries"),E=C("./stream/Crc32Probe"),T=C("./nodejsUtils");function x(O){return new d.Promise(function(l,_){var c=O.decompressed.getContentWorker().pipe(new E);c.on("error",function(v){_(v)}).on("end",function(){c.streamInfo.crc32!==O.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}Z.exports=function(O,l){var _=this;return l=m.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),T.isNode&&T.isStream(O)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",O,!0,l.optimizedBinaryString,l.base64).then(function(c){var v=new y(l);return v.load(c),v}).then(function(c){var v=[d.Promise.resolve(c)],h=c.files;if(l.checkCRC32)for(var w=0;w<h.length;w++)v.push(x(h[w]));return d.Promise.all(v)}).then(function(c){for(var v=c.shift(),h=v.files,w=0;w<h.length;w++){var B=h[w],L=B.fileNameStr,U=m.resolve(B.fileNameStr);_.file(U,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:l.createFolders}),B.dir||(_.file(U).unsafeOriginalName=L)}return v.zipComment.length&&(_.comment=v.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(C,Z,F){var m=C("../utils"),d=C("../stream/GenericWorker");function u(y,E){d.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(E)}m.inherits(u,d),u.prototype._bindStream=function(y){var E=this;(this._stream=y).pause(),y.on("data",function(T){E.push({data:T,meta:{percent:0}})}).on("error",function(T){E.isPaused?this.generatedError=T:E.error(T)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},u.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Z.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(C,Z,F){var m=C("readable-stream").Readable;function d(u,y,E){m.call(this,y),this._helper=u;var T=this;u.on("data",function(x,O){T.push(x)||T._helper.pause(),E&&E(O)}).on("error",function(x){T.emit("error",x)}).on("end",function(){T.push(null)})}C("../utils").inherits(d,m),d.prototype._read=function(){this._helper.resume()},Z.exports=d},{"../utils":32,"readable-stream":16}],14:[function(C,Z,F){Z.exports={isNode:typeof Buffer<"u",newBufferFrom:function(m,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(m,d);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new Buffer(m,d)},allocBuffer:function(m){if(Buffer.alloc)return Buffer.alloc(m);var d=new Buffer(m);return d.fill(0),d},isBuffer:function(m){return Buffer.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(C,Z,F){function m(U,et,X){var st,Q=u.getTypeOf(et),ht=u.extend(X||{},T);ht.date=ht.date||new Date,ht.compression!==null&&(ht.compression=ht.compression.toUpperCase()),typeof ht.unixPermissions=="string"&&(ht.unixPermissions=parseInt(ht.unixPermissions,8)),ht.unixPermissions&&16384&ht.unixPermissions&&(ht.dir=!0),ht.dosPermissions&&16&ht.dosPermissions&&(ht.dir=!0),ht.dir&&(U=h(U)),ht.createFolders&&(st=v(U))&&w.call(this,st,!0);var Ct=Q==="string"&&ht.binary===!1&&ht.base64===!1;X&&X.binary!==void 0||(ht.binary=!Ct),(et instanceof x&&et.uncompressedSize===0||ht.dir||!et||et.length===0)&&(ht.base64=!1,ht.binary=!0,et="",ht.compression="STORE",Q="string");var S=null;S=et instanceof x||et instanceof y?et:_.isNode&&_.isStream(et)?new c(U,et):u.prepareContent(U,et,ht.binary,ht.optimizedBinaryString,ht.base64);var $=new O(U,S,ht);this.files[U]=$}var d=C("./utf8"),u=C("./utils"),y=C("./stream/GenericWorker"),E=C("./stream/StreamHelper"),T=C("./defaults"),x=C("./compressedObject"),O=C("./zipObject"),l=C("./generate"),_=C("./nodejsUtils"),c=C("./nodejs/NodejsStreamInputAdapter"),v=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var et=U.lastIndexOf("/");return 0<et?U.substring(0,et):""},h=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},w=function(U,et){return et=et!==void 0?et:T.createFolders,U=h(U),this.files[U]||m.call(this,U,null,{dir:!0,createFolders:et}),this.files[U]};function B(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var et,X,st;for(et in this.files)st=this.files[et],(X=et.slice(this.root.length,et.length))&&et.slice(0,this.root.length)===this.root&&U(X,st)},filter:function(U){var et=[];return this.forEach(function(X,st){U(X,st)&&et.push(st)}),et},file:function(U,et,X){if(arguments.length!==1)return U=this.root+U,m.call(this,U,et,X),this;if(B(U)){var st=U;return this.filter(function(ht,Ct){return!Ct.dir&&st.test(ht)})}var Q=this.files[this.root+U];return Q&&!Q.dir?Q:null},folder:function(U){if(!U)return this;if(B(U))return this.filter(function(Q,ht){return ht.dir&&U.test(Q)});var et=this.root+U,X=w.call(this,et),st=this.clone();return st.root=X.name,st},remove:function(U){U=this.root+U;var et=this.files[U];if(et||(U.slice(-1)!=="/"&&(U+="/"),et=this.files[U]),et&&!et.dir)delete this.files[U];else for(var X=this.filter(function(Q,ht){return ht.name.slice(0,U.length)===U}),st=0;st<X.length;st++)delete this.files[X[st].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var et,X={};try{if((X=u.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring"&&(X.type="string"),!X.type)throw new Error("No output type specified.");u.checkSupport(X.type),X.platform!=="darwin"&&X.platform!=="freebsd"&&X.platform!=="linux"&&X.platform!=="sunos"||(X.platform="UNIX"),X.platform==="win32"&&(X.platform="DOS");var st=X.comment||this.comment||"";et=l.generateWorker(this,X,st)}catch(Q){(et=new y("error")).error(Q)}return new E(et,X.type||"string",X.mimeType)},generateAsync:function(U,et){return this.generateInternalStream(U).accumulate(et)},generateNodeStream:function(U,et){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(et)}};Z.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(C,Z,F){Z.exports=C("stream")},{stream:void 0}],17:[function(C,Z,F){var m=C("./DataReader");function d(u){m.call(this,u);for(var y=0;y<this.data.length;y++)u[y]=255&u[y]}C("../utils").inherits(d,m),d.prototype.byteAt=function(u){return this.data[this.zero+u]},d.prototype.lastIndexOfSignature=function(u){for(var y=u.charCodeAt(0),E=u.charCodeAt(1),T=u.charCodeAt(2),x=u.charCodeAt(3),O=this.length-4;0<=O;--O)if(this.data[O]===y&&this.data[O+1]===E&&this.data[O+2]===T&&this.data[O+3]===x)return O-this.zero;return-1},d.prototype.readAndCheckSignature=function(u){var y=u.charCodeAt(0),E=u.charCodeAt(1),T=u.charCodeAt(2),x=u.charCodeAt(3),O=this.readData(4);return y===O[0]&&E===O[1]&&T===O[2]&&x===O[3]},d.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,y},Z.exports=d},{"../utils":32,"./DataReader":18}],18:[function(C,Z,F){var m=C("../utils");function d(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var y,E=0;for(this.checkOffset(u),y=this.index+u-1;y>=this.index;y--)E=(E<<8)+this.byteAt(y);return this.index+=u,E},readString:function(u){return m.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},Z.exports=d},{"../utils":32}],19:[function(C,Z,F){var m=C("./Uint8ArrayReader");function d(u){m.call(this,u)}C("../utils").inherits(d,m),d.prototype.readData=function(u){this.checkOffset(u);var y=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,y},Z.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(C,Z,F){var m=C("./DataReader");function d(u){m.call(this,u)}C("../utils").inherits(d,m),d.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},d.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},d.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},d.prototype.readData=function(u){this.checkOffset(u);var y=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,y},Z.exports=d},{"../utils":32,"./DataReader":18}],21:[function(C,Z,F){var m=C("./ArrayReader");function d(u){m.call(this,u)}C("../utils").inherits(d,m),d.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,y},Z.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(C,Z,F){var m=C("../utils"),d=C("../support"),u=C("./ArrayReader"),y=C("./StringReader"),E=C("./NodeBufferReader"),T=C("./Uint8ArrayReader");Z.exports=function(x){var O=m.getTypeOf(x);return m.checkSupport(O),O!=="string"||d.uint8array?O==="nodebuffer"?new E(x):d.uint8array?new T(m.transformTo("uint8array",x)):new u(m.transformTo("array",x)):new y(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(C,Z,F){F.LOCAL_FILE_HEADER="PK",F.CENTRAL_FILE_HEADER="PK",F.CENTRAL_DIRECTORY_END="PK",F.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",F.ZIP64_CENTRAL_DIRECTORY_END="PK",F.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(C,Z,F){var m=C("./GenericWorker"),d=C("../utils");function u(y){m.call(this,"ConvertWorker to "+y),this.destType=y}d.inherits(u,m),u.prototype.processChunk=function(y){this.push({data:d.transformTo(this.destType,y.data),meta:y.meta})},Z.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(C,Z,F){var m=C("./GenericWorker"),d=C("../crc32");function u(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}C("../utils").inherits(u,m),u.prototype.processChunk=function(y){this.streamInfo.crc32=d(y.data,this.streamInfo.crc32||0),this.push(y)},Z.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(C,Z,F){var m=C("../utils"),d=C("./GenericWorker");function u(y){d.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}m.inherits(u,d),u.prototype.processChunk=function(y){if(y){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+y.data.length}d.prototype.processChunk.call(this,y)},Z.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(C,Z,F){var m=C("../utils"),d=C("./GenericWorker");function u(y){d.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(T){E.dataIsReady=!0,E.data=T,E.max=T&&T.length||0,E.type=m.getTypeOf(T),E.isPaused||E._tickAndRepeat()},function(T){E.error(T)})}m.inherits(u,d),u.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,E);break;case"uint8array":y=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":y=this.data.slice(this.index,E)}return this.index=E,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},Z.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(C,Z,F){function m(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,u){return this._listeners[d].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,u){if(this._listeners[d])for(var y=0;y<this._listeners[d].length;y++)this._listeners[d][y].call(this,u)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var u=this;return d.on("data",function(y){u.processChunk(y)}),d.on("end",function(){u.end()}),d.on("error",function(y){u.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,u){return this.extraStreamInfo[d]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},Z.exports=m},{}],29:[function(C,Z,F){var m=C("../utils"),d=C("./ConvertWorker"),u=C("./GenericWorker"),y=C("../base64"),E=C("../support"),T=C("../external"),x=null;if(E.nodestream)try{x=C("../nodejs/NodejsStreamOutputAdapter")}catch{}function O(_,c){return new T.Promise(function(v,h){var w=[],B=_._internalType,L=_._outputType,U=_._mimeType;_.on("data",function(et,X){w.push(et),c&&c(X)}).on("error",function(et){w=[],h(et)}).on("end",function(){try{var et=function(X,st,Q){switch(X){case"blob":return m.newBlob(m.transformTo("arraybuffer",st),Q);case"base64":return y.encode(st);default:return m.transformTo(X,st)}}(L,function(X,st){var Q,ht=0,Ct=null,S=0;for(Q=0;Q<st.length;Q++)S+=st[Q].length;switch(X){case"string":return st.join("");case"array":return Array.prototype.concat.apply([],st);case"uint8array":for(Ct=new Uint8Array(S),Q=0;Q<st.length;Q++)Ct.set(st[Q],ht),ht+=st[Q].length;return Ct;case"nodebuffer":return Buffer.concat(st);default:throw new Error("concat : unsupported type '"+X+"'")}}(B,w),U);v(et)}catch(X){h(X)}w=[]}).resume()})}function l(_,c,v){var h=c;switch(c){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=c,this._mimeType=v,m.checkSupport(h),this._worker=_.pipe(new d(h)),_.lock()}catch(w){this._worker=new u("error"),this._worker.error(w)}}l.prototype={accumulate:function(_){return O(this,_)},on:function(_,c){var v=this;return _==="data"?this._worker.on(_,function(h){c.call(v,h.data,h.meta)}):this._worker.on(_,function(){m.delay(c,arguments,v)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},_)}},Z.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(C,Z,F){if(F.base64=!0,F.array=!0,F.string=!0,F.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",F.nodebuffer=typeof Buffer<"u",F.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")F.blob=!1;else{var m=new ArrayBuffer(0);try{F.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(m),F.blob=d.getBlob("application/zip").size===0}catch{F.blob=!1}}}try{F.nodestream=!!C("readable-stream").Readable}catch{F.nodestream=!1}},{"readable-stream":16}],31:[function(C,Z,F){for(var m=C("./utils"),d=C("./support"),u=C("./nodejsUtils"),y=C("./stream/GenericWorker"),E=new Array(256),T=0;T<256;T++)E[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;E[254]=E[254]=1;function x(){y.call(this,"utf-8 decode"),this.leftOver=null}function O(){y.call(this,"utf-8 encode")}F.utf8encode=function(l){return d.nodebuffer?u.newBufferFrom(l,"utf-8"):function(_){var c,v,h,w,B,L=_.length,U=0;for(w=0;w<L;w++)(64512&(v=_.charCodeAt(w)))==55296&&w+1<L&&(64512&(h=_.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(h-56320),w++),U+=v<128?1:v<2048?2:v<65536?3:4;for(c=d.uint8array?new Uint8Array(U):new Array(U),w=B=0;B<U;w++)(64512&(v=_.charCodeAt(w)))==55296&&w+1<L&&(64512&(h=_.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(h-56320),w++),v<128?c[B++]=v:(v<2048?c[B++]=192|v>>>6:(v<65536?c[B++]=224|v>>>12:(c[B++]=240|v>>>18,c[B++]=128|v>>>12&63),c[B++]=128|v>>>6&63),c[B++]=128|63&v);return c}(l)},F.utf8decode=function(l){return d.nodebuffer?m.transformTo("nodebuffer",l).toString("utf-8"):function(_){var c,v,h,w,B=_.length,L=new Array(2*B);for(c=v=0;c<B;)if((h=_[c++])<128)L[v++]=h;else if(4<(w=E[h]))L[v++]=65533,c+=w-1;else{for(h&=w===2?31:w===3?15:7;1<w&&c<B;)h=h<<6|63&_[c++],w--;1<w?L[v++]=65533:h<65536?L[v++]=h:(h-=65536,L[v++]=55296|h>>10&1023,L[v++]=56320|1023&h)}return L.length!==v&&(L.subarray?L=L.subarray(0,v):L.length=v),m.applyFromCharCode(L)}(l=m.transformTo(d.uint8array?"uint8array":"array",l))},m.inherits(x,y),x.prototype.processChunk=function(l){var _=m.transformTo(d.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var c=_;(_=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),_.set(c,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var v=function(w,B){var L;for((B=B||w.length)>w.length&&(B=w.length),L=B-1;0<=L&&(192&w[L])==128;)L--;return L<0||L===0?B:L+E[w[L]]>B?L:B}(_),h=_;v!==_.length&&(d.uint8array?(h=_.subarray(0,v),this.leftOver=_.subarray(v,_.length)):(h=_.slice(0,v),this.leftOver=_.slice(v,_.length))),this.push({data:F.utf8decode(h),meta:l.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:F.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},F.Utf8DecodeWorker=x,m.inherits(O,y),O.prototype.processChunk=function(l){this.push({data:F.utf8encode(l.data),meta:l.meta})},F.Utf8EncodeWorker=O},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(C,Z,F){var m=C("./support"),d=C("./base64"),u=C("./nodejsUtils"),y=C("./external");function E(c){return c}function T(c,v){for(var h=0;h<c.length;++h)v[h]=255&c.charCodeAt(h);return v}C("setimmediate"),F.newBlob=function(c,v){F.checkSupport("blob");try{return new Blob([c],{type:v})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(c),h.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(c,v,h){var w=[],B=0,L=c.length;if(L<=h)return String.fromCharCode.apply(null,c);for(;B<L;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,c.slice(B,Math.min(B+h,L)))):w.push(String.fromCharCode.apply(null,c.subarray(B,Math.min(B+h,L)))),B+=h;return w.join("")},stringifyByChar:function(c){for(var v="",h=0;h<c.length;h++)v+=String.fromCharCode(c[h]);return v},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function O(c){var v=65536,h=F.getTypeOf(c),w=!0;if(h==="uint8array"?w=x.applyCanBeUsed.uint8array:h==="nodebuffer"&&(w=x.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return x.stringifyByChunk(c,h,v)}catch{v=Math.floor(v/2)}return x.stringifyByChar(c)}function l(c,v){for(var h=0;h<c.length;h++)v[h]=c[h];return v}F.applyFromCharCode=O;var _={};_.string={string:E,array:function(c){return T(c,new Array(c.length))},arraybuffer:function(c){return _.string.uint8array(c).buffer},uint8array:function(c){return T(c,new Uint8Array(c.length))},nodebuffer:function(c){return T(c,u.allocBuffer(c.length))}},_.array={string:O,array:E,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return u.newBufferFrom(c)}},_.arraybuffer={string:function(c){return O(new Uint8Array(c))},array:function(c){return l(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:E,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return u.newBufferFrom(new Uint8Array(c))}},_.uint8array={string:O,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:E,nodebuffer:function(c){return u.newBufferFrom(c)}},_.nodebuffer={string:O,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return _.nodebuffer.uint8array(c).buffer},uint8array:function(c){return l(c,new Uint8Array(c.length))},nodebuffer:E},F.transformTo=function(c,v){if(v=v||"",!c)return v;F.checkSupport(c);var h=F.getTypeOf(v);return _[h][c](v)},F.resolve=function(c){for(var v=c.split("/"),h=[],w=0;w<v.length;w++){var B=v[w];B==="."||B===""&&w!==0&&w!==v.length-1||(B===".."?h.pop():h.push(B))}return h.join("/")},F.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":m.nodebuffer&&u.isBuffer(c)?"nodebuffer":m.uint8array&&c instanceof Uint8Array?"uint8array":m.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},F.checkSupport=function(c){if(!m[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},F.MAX_VALUE_16BITS=65535,F.MAX_VALUE_32BITS=-1,F.pretty=function(c){var v,h,w="";for(h=0;h<(c||"").length;h++)w+="\\x"+((v=c.charCodeAt(h))<16?"0":"")+v.toString(16).toUpperCase();return w},F.delay=function(c,v,h){setImmediate(function(){c.apply(h||null,v||[])})},F.inherits=function(c,v){function h(){}h.prototype=v.prototype,c.prototype=new h},F.extend=function(){var c,v,h={};for(c=0;c<arguments.length;c++)for(v in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],v)&&h[v]===void 0&&(h[v]=arguments[c][v]);return h},F.prepareContent=function(c,v,h,w,B){return y.Promise.resolve(v).then(function(L){return m.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new y.Promise(function(U,et){var X=new FileReader;X.onload=function(st){U(st.target.result)},X.onerror=function(st){et(st.target.error)},X.readAsArrayBuffer(L)}):L}).then(function(L){var U=F.getTypeOf(L);return U?(U==="arraybuffer"?L=F.transformTo("uint8array",L):U==="string"&&(B?L=d.decode(L):h&&w!==!0&&(L=function(et){return T(et,m.uint8array?new Uint8Array(et.length):new Array(et.length))}(L))),L):y.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(C,Z,F){var m=C("./reader/readerFor"),d=C("./utils"),u=C("./signature"),y=C("./zipEntry"),E=C("./support");function T(x){this.files=[],this.loadOptions=x}T.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(O)+", expected "+d.pretty(x)+")")}},isSignature:function(x,O){var l=this.reader.index;this.reader.setIndex(x);var _=this.reader.readString(4)===O;return this.reader.setIndex(l),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),O=E.uint8array?"uint8array":"array",l=d.transformTo(O,x);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,O,l,_=this.zip64EndOfCentralSize-44;0<_;)x=this.reader.readInt(2),O=this.reader.readInt(4),l=this.reader.readData(O),this.zip64ExtensibleData[x]={id:x,length:O,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,O;for(x=0;x<this.files.length;x++)O=this.files[x],this.reader.setIndex(O.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(x=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var O=x;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var _=O-l;if(0<_)this.isSignature(O,u.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(x){this.reader=m(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Z.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(C,Z,F){var m=C("./reader/readerFor"),d=C("./utils"),u=C("./compressedObject"),y=C("./crc32"),E=C("./utf8"),T=C("./compressions"),x=C("./support");function O(l,_){this.options=l,this.loadOptions=_}O.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var _,c;if(l.skip(22),this.fileNameLength=l.readInt(2),c=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(v){for(var h in T)if(Object.prototype.hasOwnProperty.call(T,h)&&T[h].magic===v)return T[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,_,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var _=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(_),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=m(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var _,c,v,h=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<h;)_=l.readInt(2),c=l.readInt(2),v=l.readData(c),this.extraFields[_]={id:_,length:c,value:v};l.setIndex(h)},handleUTF8:function(){var l=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var c=d.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var h=d.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var _=m(l.value);return _.readInt(1)!==1||y(this.fileName)!==_.readInt(4)?null:E.utf8decode(_.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var _=m(l.value);return _.readInt(1)!==1||y(this.fileComment)!==_.readInt(4)?null:E.utf8decode(_.readData(l.length-5))}return null}},Z.exports=O},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(C,Z,F){function m(_,c,v){this.name=_,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=c,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var d=C("./stream/StreamHelper"),u=C("./stream/DataWorker"),y=C("./utf8"),E=C("./compressedObject"),T=C("./stream/GenericWorker");m.prototype={internalStream:function(_){var c=null,v="string";try{if(!_)throw new Error("No output type specified.");var h=(v=_.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),c=this._decompressWorker();var w=!this._dataBinary;w&&!h&&(c=c.pipe(new y.Utf8EncodeWorker)),!w&&h&&(c=c.pipe(new y.Utf8DecodeWorker))}catch(B){(c=new T("error")).error(B)}return new d(c,v,"")},async:function(_,c){return this.internalStream(_).accumulate(c)},nodeStream:function(_,c){return this.internalStream(_||"nodebuffer").toNodejsStream(c)},_compressWorker:function(_,c){if(this._data instanceof E&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new y.Utf8EncodeWorker)),E.createWorkerFrom(v,_,c)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof T?this._data:new u(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<x.length;l++)m.prototype[x[l]]=O;Z.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(C,Z,F){(function(m){var d,u,y=m.MutationObserver||m.WebKitMutationObserver;if(y){var E=0,T=new y(_),x=m.document.createTextNode("");T.observe(x,{characterData:!0}),d=function(){x.data=E=++E%2}}else if(m.setImmediate||m.MessageChannel===void 0)d="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var c=m.document.createElement("script");c.onreadystatechange=function(){_(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},m.document.documentElement.appendChild(c)}:function(){setTimeout(_,0)};else{var O=new m.MessageChannel;O.port1.onmessage=_,d=function(){O.port2.postMessage(0)}}var l=[];function _(){var c,v;u=!0;for(var h=l.length;h;){for(v=l,l=[],c=-1;++c<h;)v[c]();h=l.length}u=!1}Z.exports=function(c){l.push(c)!==1||u||d()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(C,Z,F){var m=C("immediate");function d(){}var u={},y=["REJECTED"],E=["FULFILLED"],T=["PENDING"];function x(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,h!==d&&c(this,h)}function O(h,w,B){this.promise=h,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function l(h,w,B){m(function(){var L;try{L=w(B)}catch(U){return u.reject(h,U)}L===h?u.reject(h,new TypeError("Cannot resolve promise with itself")):u.resolve(h,L)})}function _(h){var w=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof w=="function")return function(){w.apply(h,arguments)}}function c(h,w){var B=!1;function L(X){B||(B=!0,u.reject(h,X))}function U(X){B||(B=!0,u.resolve(h,X))}var et=v(function(){w(U,L)});et.status==="error"&&L(et.value)}function v(h,w){var B={};try{B.value=h(w),B.status="success"}catch(L){B.status="error",B.value=L}return B}(Z.exports=x).prototype.finally=function(h){if(typeof h!="function")return this;var w=this.constructor;return this.then(function(B){return w.resolve(h()).then(function(){return B})},function(B){return w.resolve(h()).then(function(){throw B})})},x.prototype.catch=function(h){return this.then(null,h)},x.prototype.then=function(h,w){if(typeof h!="function"&&this.state===E||typeof w!="function"&&this.state===y)return this;var B=new this.constructor(d);return this.state!==T?l(B,this.state===E?h:w,this.outcome):this.queue.push(new O(B,h,w)),B},O.prototype.callFulfilled=function(h){u.resolve(this.promise,h)},O.prototype.otherCallFulfilled=function(h){l(this.promise,this.onFulfilled,h)},O.prototype.callRejected=function(h){u.reject(this.promise,h)},O.prototype.otherCallRejected=function(h){l(this.promise,this.onRejected,h)},u.resolve=function(h,w){var B=v(_,w);if(B.status==="error")return u.reject(h,B.value);var L=B.value;if(L)c(h,L);else{h.state=E,h.outcome=w;for(var U=-1,et=h.queue.length;++U<et;)h.queue[U].callFulfilled(w)}return h},u.reject=function(h,w){h.state=y,h.outcome=w;for(var B=-1,L=h.queue.length;++B<L;)h.queue[B].callRejected(w);return h},x.resolve=function(h){return h instanceof this?h:u.resolve(new this(d),h)},x.reject=function(h){var w=new this(d);return u.reject(w,h)},x.all=function(h){var w=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=h.length,L=!1;if(!B)return this.resolve([]);for(var U=new Array(B),et=0,X=-1,st=new this(d);++X<B;)Q(h[X],X);return st;function Q(ht,Ct){w.resolve(ht).then(function(S){U[Ct]=S,++et!==B||L||(L=!0,u.resolve(st,U))},function(S){L||(L=!0,u.reject(st,S))})}},x.race=function(h){var w=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=h.length,L=!1;if(!B)return this.resolve([]);for(var U=-1,et=new this(d);++U<B;)X=h[U],w.resolve(X).then(function(st){L||(L=!0,u.resolve(et,st))},function(st){L||(L=!0,u.reject(et,st))});var X;return et}},{immediate:36}],38:[function(C,Z,F){var m={};(0,C("./lib/utils/common").assign)(m,C("./lib/deflate"),C("./lib/inflate"),C("./lib/zlib/constants")),Z.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(C,Z,F){var m=C("./zlib/deflate"),d=C("./utils/common"),u=C("./utils/strings"),y=C("./zlib/messages"),E=C("./zlib/zstream"),T=Object.prototype.toString,x=0,O=-1,l=0,_=8;function c(h){if(!(this instanceof c))return new c(h);this.options=d.assign({level:O,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},h||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var B=m.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(B!==x)throw new Error(y[B]);if(w.header&&m.deflateSetHeader(this.strm,w.header),w.dictionary){var L;if(L=typeof w.dictionary=="string"?u.string2buf(w.dictionary):T.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(B=m.deflateSetDictionary(this.strm,L))!==x)throw new Error(y[B]);this._dict_set=!0}}function v(h,w){var B=new c(w);if(B.push(h,!0),B.err)throw B.msg||y[B.err];return B.result}c.prototype.push=function(h,w){var B,L,U=this.strm,et=this.options.chunkSize;if(this.ended)return!1;L=w===~~w?w:w===!0?4:0,typeof h=="string"?U.input=u.string2buf(h):T.call(h)==="[object ArrayBuffer]"?U.input=new Uint8Array(h):U.input=h,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new d.Buf8(et),U.next_out=0,U.avail_out=et),(B=m.deflate(U,L))!==1&&B!==x)return this.onEnd(B),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(d.shrinkBuf(U.output,U.next_out))):this.onData(d.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&B!==1);return L===4?(B=m.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===x):L!==2||(this.onEnd(x),!(U.avail_out=0))},c.prototype.onData=function(h){this.chunks.push(h)},c.prototype.onEnd=function(h){h===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},F.Deflate=c,F.deflate=v,F.deflateRaw=function(h,w){return(w=w||{}).raw=!0,v(h,w)},F.gzip=function(h,w){return(w=w||{}).gzip=!0,v(h,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(C,Z,F){var m=C("./zlib/inflate"),d=C("./utils/common"),u=C("./utils/strings"),y=C("./zlib/constants"),E=C("./zlib/messages"),T=C("./zlib/zstream"),x=C("./zlib/gzheader"),O=Object.prototype.toString;function l(c){if(!(this instanceof l))return new l(c);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},c||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||c&&c.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var h=m.inflateInit2(this.strm,v.windowBits);if(h!==y.Z_OK)throw new Error(E[h]);this.header=new x,m.inflateGetHeader(this.strm,this.header)}function _(c,v){var h=new l(v);if(h.push(c,!0),h.err)throw h.msg||E[h.err];return h.result}l.prototype.push=function(c,v){var h,w,B,L,U,et,X=this.strm,st=this.options.chunkSize,Q=this.options.dictionary,ht=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof c=="string"?X.input=u.binstring2buf(c):O.call(c)==="[object ArrayBuffer]"?X.input=new Uint8Array(c):X.input=c,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new d.Buf8(st),X.next_out=0,X.avail_out=st),(h=m.inflate(X,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&Q&&(et=typeof Q=="string"?u.string2buf(Q):O.call(Q)==="[object ArrayBuffer]"?new Uint8Array(Q):Q,h=m.inflateSetDictionary(this.strm,et)),h===y.Z_BUF_ERROR&&ht===!0&&(h=y.Z_OK,ht=!1),h!==y.Z_STREAM_END&&h!==y.Z_OK)return this.onEnd(h),!(this.ended=!0);X.next_out&&(X.avail_out!==0&&h!==y.Z_STREAM_END&&(X.avail_in!==0||w!==y.Z_FINISH&&w!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=u.utf8border(X.output,X.next_out),L=X.next_out-B,U=u.buf2string(X.output,B),X.next_out=L,X.avail_out=st-L,L&&d.arraySet(X.output,X.output,B,L,0),this.onData(U)):this.onData(d.shrinkBuf(X.output,X.next_out)))),X.avail_in===0&&X.avail_out===0&&(ht=!0)}while((0<X.avail_in||X.avail_out===0)&&h!==y.Z_STREAM_END);return h===y.Z_STREAM_END&&(w=y.Z_FINISH),w===y.Z_FINISH?(h=m.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===y.Z_OK):w!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(X.avail_out=0))},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},F.Inflate=l,F.inflate=_,F.inflateRaw=function(c,v){return(v=v||{}).raw=!0,_(c,v)},F.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(C,Z,F){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";F.assign=function(y){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var T=E.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var x in T)T.hasOwnProperty(x)&&(y[x]=T[x])}}return y},F.shrinkBuf=function(y,E){return y.length===E?y:y.subarray?y.subarray(0,E):(y.length=E,y)};var d={arraySet:function(y,E,T,x,O){if(E.subarray&&y.subarray)y.set(E.subarray(T,T+x),O);else for(var l=0;l<x;l++)y[O+l]=E[T+l]},flattenChunks:function(y){var E,T,x,O,l,_;for(E=x=0,T=y.length;E<T;E++)x+=y[E].length;for(_=new Uint8Array(x),E=O=0,T=y.length;E<T;E++)l=y[E],_.set(l,O),O+=l.length;return _}},u={arraySet:function(y,E,T,x,O){for(var l=0;l<x;l++)y[O+l]=E[T+l]},flattenChunks:function(y){return[].concat.apply([],y)}};F.setTyped=function(y){y?(F.Buf8=Uint8Array,F.Buf16=Uint16Array,F.Buf32=Int32Array,F.assign(F,d)):(F.Buf8=Array,F.Buf16=Array,F.Buf32=Array,F.assign(F,u))},F.setTyped(m)},{}],42:[function(C,Z,F){var m=C("./common"),d=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var y=new m.Buf8(256),E=0;E<256;E++)y[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function T(x,O){if(O<65537&&(x.subarray&&u||!x.subarray&&d))return String.fromCharCode.apply(null,m.shrinkBuf(x,O));for(var l="",_=0;_<O;_++)l+=String.fromCharCode(x[_]);return l}y[254]=y[254]=1,F.string2buf=function(x){var O,l,_,c,v,h=x.length,w=0;for(c=0;c<h;c++)(64512&(l=x.charCodeAt(c)))==55296&&c+1<h&&(64512&(_=x.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(_-56320),c++),w+=l<128?1:l<2048?2:l<65536?3:4;for(O=new m.Buf8(w),c=v=0;v<w;c++)(64512&(l=x.charCodeAt(c)))==55296&&c+1<h&&(64512&(_=x.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(_-56320),c++),l<128?O[v++]=l:(l<2048?O[v++]=192|l>>>6:(l<65536?O[v++]=224|l>>>12:(O[v++]=240|l>>>18,O[v++]=128|l>>>12&63),O[v++]=128|l>>>6&63),O[v++]=128|63&l);return O},F.buf2binstring=function(x){return T(x,x.length)},F.binstring2buf=function(x){for(var O=new m.Buf8(x.length),l=0,_=O.length;l<_;l++)O[l]=x.charCodeAt(l);return O},F.buf2string=function(x,O){var l,_,c,v,h=O||x.length,w=new Array(2*h);for(l=_=0;l<h;)if((c=x[l++])<128)w[_++]=c;else if(4<(v=y[c]))w[_++]=65533,l+=v-1;else{for(c&=v===2?31:v===3?15:7;1<v&&l<h;)c=c<<6|63&x[l++],v--;1<v?w[_++]=65533:c<65536?w[_++]=c:(c-=65536,w[_++]=55296|c>>10&1023,w[_++]=56320|1023&c)}return T(w,_)},F.utf8border=function(x,O){var l;for((O=O||x.length)>x.length&&(O=x.length),l=O-1;0<=l&&(192&x[l])==128;)l--;return l<0||l===0?O:l+y[x[l]]>O?l:O}},{"./common":41}],43:[function(C,Z,F){Z.exports=function(m,d,u,y){for(var E=65535&m|0,T=m>>>16&65535|0,x=0;u!==0;){for(u-=x=2e3<u?2e3:u;T=T+(E=E+d[y++]|0)|0,--x;);E%=65521,T%=65521}return E|T<<16|0}},{}],44:[function(C,Z,F){Z.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(C,Z,F){var m=function(){for(var d,u=[],y=0;y<256;y++){d=y;for(var E=0;E<8;E++)d=1&d?3988292384^d>>>1:d>>>1;u[y]=d}return u}();Z.exports=function(d,u,y,E){var T=m,x=E+y;d^=-1;for(var O=E;O<x;O++)d=d>>>8^T[255&(d^u[O])];return-1^d}},{}],46:[function(C,Z,F){var m,d=C("../utils/common"),u=C("./trees"),y=C("./adler32"),E=C("./crc32"),T=C("./messages"),x=0,O=4,l=0,_=-2,c=-1,v=4,h=2,w=8,B=9,L=286,U=30,et=19,X=2*L+1,st=15,Q=3,ht=258,Ct=ht+Q+1,S=42,$=113,o=1,nt=2,At=3,ot=4;function It(i,J){return i.msg=T[J],J}function at(i){return(i<<1)-(4<i?9:0)}function Ot(i){for(var J=i.length;0<=--J;)i[J]=0}function V(i){var J=i.state,Y=J.pending;Y>i.avail_out&&(Y=i.avail_out),Y!==0&&(d.arraySet(i.output,J.pending_buf,J.pending_out,Y,i.next_out),i.next_out+=Y,J.pending_out+=Y,i.total_out+=Y,i.avail_out-=Y,J.pending-=Y,J.pending===0&&(J.pending_out=0))}function W(i,J){u._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,J),i.block_start=i.strstart,V(i.strm)}function Et(i,J){i.pending_buf[i.pending++]=J}function _t(i,J){i.pending_buf[i.pending++]=J>>>8&255,i.pending_buf[i.pending++]=255&J}function mt(i,J){var Y,g,p=i.max_chain_length,j=i.strstart,it=i.prev_length,rt=i.nice_match,M=i.strstart>i.w_size-Ct?i.strstart-(i.w_size-Ct):0,ut=i.window,wt=i.w_mask,ft=i.prev,St=i.strstart+ht,Nt=ut[j+it-1],Tt=ut[j+it];i.prev_length>=i.good_match&&(p>>=2),rt>i.lookahead&&(rt=i.lookahead);do if(ut[(Y=J)+it]===Tt&&ut[Y+it-1]===Nt&&ut[Y]===ut[j]&&ut[++Y]===ut[j+1]){j+=2,Y++;do;while(ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&ut[++j]===ut[++Y]&&j<St);if(g=ht-(St-j),j=St-ht,it<g){if(i.match_start=J,rt<=(it=g))break;Nt=ut[j+it-1],Tt=ut[j+it]}}while((J=ft[J&wt])>M&&--p!=0);return it<=i.lookahead?it:i.lookahead}function Ut(i){var J,Y,g,p,j,it,rt,M,ut,wt,ft=i.w_size;do{if(p=i.window_size-i.lookahead-i.strstart,i.strstart>=ft+(ft-Ct)){for(d.arraySet(i.window,i.window,ft,ft,0),i.match_start-=ft,i.strstart-=ft,i.block_start-=ft,J=Y=i.hash_size;g=i.head[--J],i.head[J]=ft<=g?g-ft:0,--Y;);for(J=Y=ft;g=i.prev[--J],i.prev[J]=ft<=g?g-ft:0,--Y;);p+=ft}if(i.strm.avail_in===0)break;if(it=i.strm,rt=i.window,M=i.strstart+i.lookahead,ut=p,wt=void 0,wt=it.avail_in,ut<wt&&(wt=ut),Y=wt===0?0:(it.avail_in-=wt,d.arraySet(rt,it.input,it.next_in,wt,M),it.state.wrap===1?it.adler=y(it.adler,rt,wt,M):it.state.wrap===2&&(it.adler=E(it.adler,rt,wt,M)),it.next_in+=wt,it.total_in+=wt,wt),i.lookahead+=Y,i.lookahead+i.insert>=Q)for(j=i.strstart-i.insert,i.ins_h=i.window[j],i.ins_h=(i.ins_h<<i.hash_shift^i.window[j+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[j+Q-1])&i.hash_mask,i.prev[j&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=j,j++,i.insert--,!(i.lookahead+i.insert<Q)););}while(i.lookahead<Ct&&i.strm.avail_in!==0)}function Vt(i,J){for(var Y,g;;){if(i.lookahead<Ct){if(Ut(i),i.lookahead<Ct&&J===x)return o;if(i.lookahead===0)break}if(Y=0,i.lookahead>=Q&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+Q-1])&i.hash_mask,Y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),Y!==0&&i.strstart-Y<=i.w_size-Ct&&(i.match_length=mt(i,Y)),i.match_length>=Q)if(g=u._tr_tally(i,i.strstart-i.match_start,i.match_length-Q),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Q){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+Q-1])&i.hash_mask,Y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else g=u._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(g&&(W(i,!1),i.strm.avail_out===0))return o}return i.insert=i.strstart<Q-1?i.strstart:Q-1,J===O?(W(i,!0),i.strm.avail_out===0?At:ot):i.last_lit&&(W(i,!1),i.strm.avail_out===0)?o:nt}function jt(i,J){for(var Y,g,p;;){if(i.lookahead<Ct){if(Ut(i),i.lookahead<Ct&&J===x)return o;if(i.lookahead===0)break}if(Y=0,i.lookahead>=Q&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+Q-1])&i.hash_mask,Y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Q-1,Y!==0&&i.prev_length<i.max_lazy_match&&i.strstart-Y<=i.w_size-Ct&&(i.match_length=mt(i,Y),i.match_length<=5&&(i.strategy===1||i.match_length===Q&&4096<i.strstart-i.match_start)&&(i.match_length=Q-1)),i.prev_length>=Q&&i.match_length<=i.prev_length){for(p=i.strstart+i.lookahead-Q,g=u._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-Q),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=p&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+Q-1])&i.hash_mask,Y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=Q-1,i.strstart++,g&&(W(i,!1),i.strm.avail_out===0))return o}else if(i.match_available){if((g=u._tr_tally(i,0,i.window[i.strstart-1]))&&W(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return o}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(g=u._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Q-1?i.strstart:Q-1,J===O?(W(i,!0),i.strm.avail_out===0?At:ot):i.last_lit&&(W(i,!1),i.strm.avail_out===0)?o:nt}function pt(i,J,Y,g,p){this.good_length=i,this.max_lazy=J,this.nice_length=Y,this.max_chain=g,this.func=p}function Zt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*X),this.dyn_dtree=new d.Buf16(2*(2*U+1)),this.bl_tree=new d.Buf16(2*(2*et+1)),Ot(this.dyn_ltree),Ot(this.dyn_dtree),Ot(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(st+1),this.heap=new d.Buf16(2*L+1),Ot(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*L+1),Ot(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Lt(i){var J;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=h,(J=i.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?S:$,i.adler=J.wrap===2?0:1,J.last_flush=x,u._tr_init(J),l):It(i,_)}function Bt(i){var J=Lt(i);return J===l&&function(Y){Y.window_size=2*Y.w_size,Ot(Y.head),Y.max_lazy_match=m[Y.level].max_lazy,Y.good_match=m[Y.level].good_length,Y.nice_match=m[Y.level].nice_length,Y.max_chain_length=m[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=Q-1,Y.match_available=0,Y.ins_h=0}(i.state),J}function Qt(i,J,Y,g,p,j){if(!i)return _;var it=1;if(J===c&&(J=6),g<0?(it=0,g=-g):15<g&&(it=2,g-=16),p<1||B<p||Y!==w||g<8||15<g||J<0||9<J||j<0||v<j)return It(i,_);g===8&&(g=9);var rt=new Zt;return(i.state=rt).strm=i,rt.wrap=it,rt.gzhead=null,rt.w_bits=g,rt.w_size=1<<rt.w_bits,rt.w_mask=rt.w_size-1,rt.hash_bits=p+7,rt.hash_size=1<<rt.hash_bits,rt.hash_mask=rt.hash_size-1,rt.hash_shift=~~((rt.hash_bits+Q-1)/Q),rt.window=new d.Buf8(2*rt.w_size),rt.head=new d.Buf16(rt.hash_size),rt.prev=new d.Buf16(rt.w_size),rt.lit_bufsize=1<<p+6,rt.pending_buf_size=4*rt.lit_bufsize,rt.pending_buf=new d.Buf8(rt.pending_buf_size),rt.d_buf=1*rt.lit_bufsize,rt.l_buf=3*rt.lit_bufsize,rt.level=J,rt.strategy=j,rt.method=Y,Bt(i)}m=[new pt(0,0,0,0,function(i,J){var Y=65535;for(Y>i.pending_buf_size-5&&(Y=i.pending_buf_size-5);;){if(i.lookahead<=1){if(Ut(i),i.lookahead===0&&J===x)return o;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var g=i.block_start+Y;if((i.strstart===0||i.strstart>=g)&&(i.lookahead=i.strstart-g,i.strstart=g,W(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-Ct&&(W(i,!1),i.strm.avail_out===0))return o}return i.insert=0,J===O?(W(i,!0),i.strm.avail_out===0?At:ot):(i.strstart>i.block_start&&(W(i,!1),i.strm.avail_out),o)}),new pt(4,4,8,4,Vt),new pt(4,5,16,8,Vt),new pt(4,6,32,32,Vt),new pt(4,4,16,16,jt),new pt(8,16,32,32,jt),new pt(8,16,128,128,jt),new pt(8,32,128,256,jt),new pt(32,128,258,1024,jt),new pt(32,258,258,4096,jt)],F.deflateInit=function(i,J){return Qt(i,J,w,15,8,0)},F.deflateInit2=Qt,F.deflateReset=Bt,F.deflateResetKeep=Lt,F.deflateSetHeader=function(i,J){return i&&i.state?i.state.wrap!==2?_:(i.state.gzhead=J,l):_},F.deflate=function(i,J){var Y,g,p,j;if(!i||!i.state||5<J||J<0)return i?It(i,_):_;if(g=i.state,!i.output||!i.input&&i.avail_in!==0||g.status===666&&J!==O)return It(i,i.avail_out===0?-5:_);if(g.strm=i,Y=g.last_flush,g.last_flush=J,g.status===S)if(g.wrap===2)i.adler=0,Et(g,31),Et(g,139),Et(g,8),g.gzhead?(Et(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),Et(g,255&g.gzhead.time),Et(g,g.gzhead.time>>8&255),Et(g,g.gzhead.time>>16&255),Et(g,g.gzhead.time>>24&255),Et(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),Et(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(Et(g,255&g.gzhead.extra.length),Et(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(i.adler=E(i.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(Et(g,0),Et(g,0),Et(g,0),Et(g,0),Et(g,0),Et(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),Et(g,3),g.status=$);else{var it=w+(g.w_bits-8<<4)<<8;it|=(2<=g.strategy||g.level<2?0:g.level<6?1:g.level===6?2:3)<<6,g.strstart!==0&&(it|=32),it+=31-it%31,g.status=$,_t(g,it),g.strstart!==0&&(_t(g,i.adler>>>16),_t(g,65535&i.adler)),i.adler=1}if(g.status===69)if(g.gzhead.extra){for(p=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),V(i),p=g.pending,g.pending!==g.pending_buf_size));)Et(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(g.status===73)if(g.gzhead.name){p=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),V(i),p=g.pending,g.pending===g.pending_buf_size)){j=1;break}j=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,Et(g,j)}while(j!==0);g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),j===0&&(g.gzindex=0,g.status=91)}else g.status=91;if(g.status===91)if(g.gzhead.comment){p=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),V(i),p=g.pending,g.pending===g.pending_buf_size)){j=1;break}j=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,Et(g,j)}while(j!==0);g.gzhead.hcrc&&g.pending>p&&(i.adler=E(i.adler,g.pending_buf,g.pending-p,p)),j===0&&(g.status=103)}else g.status=103;if(g.status===103&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&V(i),g.pending+2<=g.pending_buf_size&&(Et(g,255&i.adler),Et(g,i.adler>>8&255),i.adler=0,g.status=$)):g.status=$),g.pending!==0){if(V(i),i.avail_out===0)return g.last_flush=-1,l}else if(i.avail_in===0&&at(J)<=at(Y)&&J!==O)return It(i,-5);if(g.status===666&&i.avail_in!==0)return It(i,-5);if(i.avail_in!==0||g.lookahead!==0||J!==x&&g.status!==666){var rt=g.strategy===2?function(M,ut){for(var wt;;){if(M.lookahead===0&&(Ut(M),M.lookahead===0)){if(ut===x)return o;break}if(M.match_length=0,wt=u._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,wt&&(W(M,!1),M.strm.avail_out===0))return o}return M.insert=0,ut===O?(W(M,!0),M.strm.avail_out===0?At:ot):M.last_lit&&(W(M,!1),M.strm.avail_out===0)?o:nt}(g,J):g.strategy===3?function(M,ut){for(var wt,ft,St,Nt,Tt=M.window;;){if(M.lookahead<=ht){if(Ut(M),M.lookahead<=ht&&ut===x)return o;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=Q&&0<M.strstart&&(ft=Tt[St=M.strstart-1])===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]){Nt=M.strstart+ht;do;while(ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&ft===Tt[++St]&&St<Nt);M.match_length=ht-(Nt-St),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=Q?(wt=u._tr_tally(M,1,M.match_length-Q),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(wt=u._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),wt&&(W(M,!1),M.strm.avail_out===0))return o}return M.insert=0,ut===O?(W(M,!0),M.strm.avail_out===0?At:ot):M.last_lit&&(W(M,!1),M.strm.avail_out===0)?o:nt}(g,J):m[g.level].func(g,J);if(rt!==At&&rt!==ot||(g.status=666),rt===o||rt===At)return i.avail_out===0&&(g.last_flush=-1),l;if(rt===nt&&(J===1?u._tr_align(g):J!==5&&(u._tr_stored_block(g,0,0,!1),J===3&&(Ot(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),V(i),i.avail_out===0))return g.last_flush=-1,l}return J!==O?l:g.wrap<=0?1:(g.wrap===2?(Et(g,255&i.adler),Et(g,i.adler>>8&255),Et(g,i.adler>>16&255),Et(g,i.adler>>24&255),Et(g,255&i.total_in),Et(g,i.total_in>>8&255),Et(g,i.total_in>>16&255),Et(g,i.total_in>>24&255)):(_t(g,i.adler>>>16),_t(g,65535&i.adler)),V(i),0<g.wrap&&(g.wrap=-g.wrap),g.pending!==0?l:1)},F.deflateEnd=function(i){var J;return i&&i.state?(J=i.state.status)!==S&&J!==69&&J!==73&&J!==91&&J!==103&&J!==$&&J!==666?It(i,_):(i.state=null,J===$?It(i,-3):l):_},F.deflateSetDictionary=function(i,J){var Y,g,p,j,it,rt,M,ut,wt=J.length;if(!i||!i.state||(j=(Y=i.state).wrap)===2||j===1&&Y.status!==S||Y.lookahead)return _;for(j===1&&(i.adler=y(i.adler,J,wt,0)),Y.wrap=0,wt>=Y.w_size&&(j===0&&(Ot(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),ut=new d.Buf8(Y.w_size),d.arraySet(ut,J,wt-Y.w_size,Y.w_size,0),J=ut,wt=Y.w_size),it=i.avail_in,rt=i.next_in,M=i.input,i.avail_in=wt,i.next_in=0,i.input=J,Ut(Y);Y.lookahead>=Q;){for(g=Y.strstart,p=Y.lookahead-(Q-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[g+Q-1])&Y.hash_mask,Y.prev[g&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=g,g++,--p;);Y.strstart=g,Y.lookahead=Q-1,Ut(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=Q-1,Y.match_available=0,i.next_in=rt,i.input=M,i.avail_in=it,Y.wrap=j,l},F.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(C,Z,F){Z.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(C,Z,F){Z.exports=function(m,d){var u,y,E,T,x,O,l,_,c,v,h,w,B,L,U,et,X,st,Q,ht,Ct,S,$,o,nt;u=m.state,y=m.next_in,o=m.input,E=y+(m.avail_in-5),T=m.next_out,nt=m.output,x=T-(d-m.avail_out),O=T+(m.avail_out-257),l=u.dmax,_=u.wsize,c=u.whave,v=u.wnext,h=u.window,w=u.hold,B=u.bits,L=u.lencode,U=u.distcode,et=(1<<u.lenbits)-1,X=(1<<u.distbits)-1;t:do{B<15&&(w+=o[y++]<<B,B+=8,w+=o[y++]<<B,B+=8),st=L[w&et];e:for(;;){if(w>>>=Q=st>>>24,B-=Q,(Q=st>>>16&255)===0)nt[T++]=65535&st;else{if(!(16&Q)){if((64&Q)==0){st=L[(65535&st)+(w&(1<<Q)-1)];continue e}if(32&Q){u.mode=12;break t}m.msg="invalid literal/length code",u.mode=30;break t}ht=65535&st,(Q&=15)&&(B<Q&&(w+=o[y++]<<B,B+=8),ht+=w&(1<<Q)-1,w>>>=Q,B-=Q),B<15&&(w+=o[y++]<<B,B+=8,w+=o[y++]<<B,B+=8),st=U[w&X];n:for(;;){if(w>>>=Q=st>>>24,B-=Q,!(16&(Q=st>>>16&255))){if((64&Q)==0){st=U[(65535&st)+(w&(1<<Q)-1)];continue n}m.msg="invalid distance code",u.mode=30;break t}if(Ct=65535&st,B<(Q&=15)&&(w+=o[y++]<<B,(B+=8)<Q&&(w+=o[y++]<<B,B+=8)),l<(Ct+=w&(1<<Q)-1)){m.msg="invalid distance too far back",u.mode=30;break t}if(w>>>=Q,B-=Q,(Q=T-x)<Ct){if(c<(Q=Ct-Q)&&u.sane){m.msg="invalid distance too far back",u.mode=30;break t}if($=h,(S=0)===v){if(S+=_-Q,Q<ht){for(ht-=Q;nt[T++]=h[S++],--Q;);S=T-Ct,$=nt}}else if(v<Q){if(S+=_+v-Q,(Q-=v)<ht){for(ht-=Q;nt[T++]=h[S++],--Q;);if(S=0,v<ht){for(ht-=Q=v;nt[T++]=h[S++],--Q;);S=T-Ct,$=nt}}}else if(S+=v-Q,Q<ht){for(ht-=Q;nt[T++]=h[S++],--Q;);S=T-Ct,$=nt}for(;2<ht;)nt[T++]=$[S++],nt[T++]=$[S++],nt[T++]=$[S++],ht-=3;ht&&(nt[T++]=$[S++],1<ht&&(nt[T++]=$[S++]))}else{for(S=T-Ct;nt[T++]=nt[S++],nt[T++]=nt[S++],nt[T++]=nt[S++],2<(ht-=3););ht&&(nt[T++]=nt[S++],1<ht&&(nt[T++]=nt[S++]))}break}}break}}while(y<E&&T<O);y-=ht=B>>3,w&=(1<<(B-=ht<<3))-1,m.next_in=y,m.next_out=T,m.avail_in=y<E?E-y+5:5-(y-E),m.avail_out=T<O?O-T+257:257-(T-O),u.hold=w,u.bits=B}},{}],49:[function(C,Z,F){var m=C("../utils/common"),d=C("./adler32"),u=C("./crc32"),y=C("./inffast"),E=C("./inftrees"),T=1,x=2,O=0,l=-2,_=1,c=852,v=592;function h(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(S){var $;return S&&S.state?($=S.state,S.total_in=S.total_out=$.total=0,S.msg="",$.wrap&&(S.adler=1&$.wrap),$.mode=_,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new m.Buf32(c),$.distcode=$.distdyn=new m.Buf32(v),$.sane=1,$.back=-1,O):l}function L(S){var $;return S&&S.state?(($=S.state).wsize=0,$.whave=0,$.wnext=0,B(S)):l}function U(S,$){var o,nt;return S&&S.state?(nt=S.state,$<0?(o=0,$=-$):(o=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?l:(nt.window!==null&&nt.wbits!==$&&(nt.window=null),nt.wrap=o,nt.wbits=$,L(S))):l}function et(S,$){var o,nt;return S?(nt=new w,(S.state=nt).window=null,(o=U(S,$))!==O&&(S.state=null),o):l}var X,st,Q=!0;function ht(S){if(Q){var $;for(X=new m.Buf32(512),st=new m.Buf32(32),$=0;$<144;)S.lens[$++]=8;for(;$<256;)S.lens[$++]=9;for(;$<280;)S.lens[$++]=7;for(;$<288;)S.lens[$++]=8;for(E(T,S.lens,0,288,X,0,S.work,{bits:9}),$=0;$<32;)S.lens[$++]=5;E(x,S.lens,0,32,st,0,S.work,{bits:5}),Q=!1}S.lencode=X,S.lenbits=9,S.distcode=st,S.distbits=5}function Ct(S,$,o,nt){var At,ot=S.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new m.Buf8(ot.wsize)),nt>=ot.wsize?(m.arraySet(ot.window,$,o-ot.wsize,ot.wsize,0),ot.wnext=0,ot.whave=ot.wsize):(nt<(At=ot.wsize-ot.wnext)&&(At=nt),m.arraySet(ot.window,$,o-nt,At,ot.wnext),(nt-=At)?(m.arraySet(ot.window,$,o-nt,nt,0),ot.wnext=nt,ot.whave=ot.wsize):(ot.wnext+=At,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=At))),0}F.inflateReset=L,F.inflateReset2=U,F.inflateResetKeep=B,F.inflateInit=function(S){return et(S,15)},F.inflateInit2=et,F.inflate=function(S,$){var o,nt,At,ot,It,at,Ot,V,W,Et,_t,mt,Ut,Vt,jt,pt,Zt,Lt,Bt,Qt,i,J,Y,g,p=0,j=new m.Buf8(4),it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return l;(o=S.state).mode===12&&(o.mode=13),It=S.next_out,At=S.output,Ot=S.avail_out,ot=S.next_in,nt=S.input,at=S.avail_in,V=o.hold,W=o.bits,Et=at,_t=Ot,J=O;t:for(;;)switch(o.mode){case _:if(o.wrap===0){o.mode=13;break}for(;W<16;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(2&o.wrap&&V===35615){j[o.check=0]=255&V,j[1]=V>>>8&255,o.check=u(o.check,j,2,0),W=V=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&V)<<8)+(V>>8))%31){S.msg="incorrect header check",o.mode=30;break}if((15&V)!=8){S.msg="unknown compression method",o.mode=30;break}if(W-=4,i=8+(15&(V>>>=4)),o.wbits===0)o.wbits=i;else if(i>o.wbits){S.msg="invalid window size",o.mode=30;break}o.dmax=1<<i,S.adler=o.check=1,o.mode=512&V?10:12,W=V=0;break;case 2:for(;W<16;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(o.flags=V,(255&o.flags)!=8){S.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){S.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=V>>8&1),512&o.flags&&(j[0]=255&V,j[1]=V>>>8&255,o.check=u(o.check,j,2,0)),W=V=0,o.mode=3;case 3:for(;W<32;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.head&&(o.head.time=V),512&o.flags&&(j[0]=255&V,j[1]=V>>>8&255,j[2]=V>>>16&255,j[3]=V>>>24&255,o.check=u(o.check,j,4,0)),W=V=0,o.mode=4;case 4:for(;W<16;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.head&&(o.head.xflags=255&V,o.head.os=V>>8),512&o.flags&&(j[0]=255&V,j[1]=V>>>8&255,o.check=u(o.check,j,2,0)),W=V=0,o.mode=5;case 5:if(1024&o.flags){for(;W<16;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.length=V,o.head&&(o.head.extra_len=V),512&o.flags&&(j[0]=255&V,j[1]=V>>>8&255,o.check=u(o.check,j,2,0)),W=V=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(at<(mt=o.length)&&(mt=at),mt&&(o.head&&(i=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),m.arraySet(o.head.extra,nt,ot,mt,i)),512&o.flags&&(o.check=u(o.check,nt,mt,ot)),at-=mt,ot+=mt,o.length-=mt),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(at===0)break t;for(mt=0;i=nt[ot+mt++],o.head&&i&&o.length<65536&&(o.head.name+=String.fromCharCode(i)),i&&mt<at;);if(512&o.flags&&(o.check=u(o.check,nt,mt,ot)),at-=mt,ot+=mt,i)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(at===0)break t;for(mt=0;i=nt[ot+mt++],o.head&&i&&o.length<65536&&(o.head.comment+=String.fromCharCode(i)),i&&mt<at;);if(512&o.flags&&(o.check=u(o.check,nt,mt,ot)),at-=mt,ot+=mt,i)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;W<16;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(V!==(65535&o.check)){S.msg="header crc mismatch",o.mode=30;break}W=V=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),S.adler=o.check=0,o.mode=12;break;case 10:for(;W<32;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}S.adler=o.check=h(V),W=V=0,o.mode=11;case 11:if(o.havedict===0)return S.next_out=It,S.avail_out=Ot,S.next_in=ot,S.avail_in=at,o.hold=V,o.bits=W,2;S.adler=o.check=1,o.mode=12;case 12:if($===5||$===6)break t;case 13:if(o.last){V>>>=7&W,W-=7&W,o.mode=27;break}for(;W<3;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}switch(o.last=1&V,W-=1,3&(V>>>=1)){case 0:o.mode=14;break;case 1:if(ht(o),o.mode=20,$!==6)break;V>>>=2,W-=2;break t;case 2:o.mode=17;break;case 3:S.msg="invalid block type",o.mode=30}V>>>=2,W-=2;break;case 14:for(V>>>=7&W,W-=7&W;W<32;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if((65535&V)!=(V>>>16^65535)){S.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&V,W=V=0,o.mode=15,$===6)break t;case 15:o.mode=16;case 16:if(mt=o.length){if(at<mt&&(mt=at),Ot<mt&&(mt=Ot),mt===0)break t;m.arraySet(At,nt,ot,mt,It),at-=mt,ot+=mt,Ot-=mt,It+=mt,o.length-=mt;break}o.mode=12;break;case 17:for(;W<14;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(o.nlen=257+(31&V),V>>>=5,W-=5,o.ndist=1+(31&V),V>>>=5,W-=5,o.ncode=4+(15&V),V>>>=4,W-=4,286<o.nlen||30<o.ndist){S.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;W<3;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.lens[it[o.have++]]=7&V,V>>>=3,W-=3}for(;o.have<19;)o.lens[it[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,Y={bits:o.lenbits},J=E(0,o.lens,0,19,o.lencode,0,o.work,Y),o.lenbits=Y.bits,J){S.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;pt=(p=o.lencode[V&(1<<o.lenbits)-1])>>>16&255,Zt=65535&p,!((jt=p>>>24)<=W);){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(Zt<16)V>>>=jt,W-=jt,o.lens[o.have++]=Zt;else{if(Zt===16){for(g=jt+2;W<g;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(V>>>=jt,W-=jt,o.have===0){S.msg="invalid bit length repeat",o.mode=30;break}i=o.lens[o.have-1],mt=3+(3&V),V>>>=2,W-=2}else if(Zt===17){for(g=jt+3;W<g;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}W-=jt,i=0,mt=3+(7&(V>>>=jt)),V>>>=3,W-=3}else{for(g=jt+7;W<g;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}W-=jt,i=0,mt=11+(127&(V>>>=jt)),V>>>=7,W-=7}if(o.have+mt>o.nlen+o.ndist){S.msg="invalid bit length repeat",o.mode=30;break}for(;mt--;)o.lens[o.have++]=i}}if(o.mode===30)break;if(o.lens[256]===0){S.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,Y={bits:o.lenbits},J=E(T,o.lens,0,o.nlen,o.lencode,0,o.work,Y),o.lenbits=Y.bits,J){S.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,Y={bits:o.distbits},J=E(x,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,Y),o.distbits=Y.bits,J){S.msg="invalid distances set",o.mode=30;break}if(o.mode=20,$===6)break t;case 20:o.mode=21;case 21:if(6<=at&&258<=Ot){S.next_out=It,S.avail_out=Ot,S.next_in=ot,S.avail_in=at,o.hold=V,o.bits=W,y(S,_t),It=S.next_out,At=S.output,Ot=S.avail_out,ot=S.next_in,nt=S.input,at=S.avail_in,V=o.hold,W=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;pt=(p=o.lencode[V&(1<<o.lenbits)-1])>>>16&255,Zt=65535&p,!((jt=p>>>24)<=W);){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(pt&&(240&pt)==0){for(Lt=jt,Bt=pt,Qt=Zt;pt=(p=o.lencode[Qt+((V&(1<<Lt+Bt)-1)>>Lt)])>>>16&255,Zt=65535&p,!(Lt+(jt=p>>>24)<=W);){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}V>>>=Lt,W-=Lt,o.back+=Lt}if(V>>>=jt,W-=jt,o.back+=jt,o.length=Zt,pt===0){o.mode=26;break}if(32&pt){o.back=-1,o.mode=12;break}if(64&pt){S.msg="invalid literal/length code",o.mode=30;break}o.extra=15&pt,o.mode=22;case 22:if(o.extra){for(g=o.extra;W<g;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.length+=V&(1<<o.extra)-1,V>>>=o.extra,W-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;pt=(p=o.distcode[V&(1<<o.distbits)-1])>>>16&255,Zt=65535&p,!((jt=p>>>24)<=W);){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if((240&pt)==0){for(Lt=jt,Bt=pt,Qt=Zt;pt=(p=o.distcode[Qt+((V&(1<<Lt+Bt)-1)>>Lt)])>>>16&255,Zt=65535&p,!(Lt+(jt=p>>>24)<=W);){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}V>>>=Lt,W-=Lt,o.back+=Lt}if(V>>>=jt,W-=jt,o.back+=jt,64&pt){S.msg="invalid distance code",o.mode=30;break}o.offset=Zt,o.extra=15&pt,o.mode=24;case 24:if(o.extra){for(g=o.extra;W<g;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}o.offset+=V&(1<<o.extra)-1,V>>>=o.extra,W-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){S.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(Ot===0)break t;if(mt=_t-Ot,o.offset>mt){if((mt=o.offset-mt)>o.whave&&o.sane){S.msg="invalid distance too far back",o.mode=30;break}Ut=mt>o.wnext?(mt-=o.wnext,o.wsize-mt):o.wnext-mt,mt>o.length&&(mt=o.length),Vt=o.window}else Vt=At,Ut=It-o.offset,mt=o.length;for(Ot<mt&&(mt=Ot),Ot-=mt,o.length-=mt;At[It++]=Vt[Ut++],--mt;);o.length===0&&(o.mode=21);break;case 26:if(Ot===0)break t;At[It++]=o.length,Ot--,o.mode=21;break;case 27:if(o.wrap){for(;W<32;){if(at===0)break t;at--,V|=nt[ot++]<<W,W+=8}if(_t-=Ot,S.total_out+=_t,o.total+=_t,_t&&(S.adler=o.check=o.flags?u(o.check,At,_t,It-_t):d(o.check,At,_t,It-_t)),_t=Ot,(o.flags?V:h(V))!==o.check){S.msg="incorrect data check",o.mode=30;break}W=V=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;W<32;){if(at===0)break t;at--,V+=nt[ot++]<<W,W+=8}if(V!==(4294967295&o.total)){S.msg="incorrect length check",o.mode=30;break}W=V=0}o.mode=29;case 29:J=1;break t;case 30:J=-3;break t;case 31:return-4;case 32:default:return l}return S.next_out=It,S.avail_out=Ot,S.next_in=ot,S.avail_in=at,o.hold=V,o.bits=W,(o.wsize||_t!==S.avail_out&&o.mode<30&&(o.mode<27||$!==4))&&Ct(S,S.output,S.next_out,_t-S.avail_out)?(o.mode=31,-4):(Et-=S.avail_in,_t-=S.avail_out,S.total_in+=Et,S.total_out+=_t,o.total+=_t,o.wrap&&_t&&(S.adler=o.check=o.flags?u(o.check,At,_t,S.next_out-_t):d(o.check,At,_t,S.next_out-_t)),S.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(Et==0&&_t===0||$===4)&&J===O&&(J=-5),J)},F.inflateEnd=function(S){if(!S||!S.state)return l;var $=S.state;return $.window&&($.window=null),S.state=null,O},F.inflateGetHeader=function(S,$){var o;return S&&S.state?(2&(o=S.state).wrap)==0?l:((o.head=$).done=!1,O):l},F.inflateSetDictionary=function(S,$){var o,nt=$.length;return S&&S.state?(o=S.state).wrap!==0&&o.mode!==11?l:o.mode===11&&d(1,$,nt,0)!==o.check?-3:Ct(S,$,nt,nt)?(o.mode=31,-4):(o.havedict=1,O):l},F.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(C,Z,F){var m=C("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Z.exports=function(T,x,O,l,_,c,v,h){var w,B,L,U,et,X,st,Q,ht,Ct=h.bits,S=0,$=0,o=0,nt=0,At=0,ot=0,It=0,at=0,Ot=0,V=0,W=null,Et=0,_t=new m.Buf16(16),mt=new m.Buf16(16),Ut=null,Vt=0;for(S=0;S<=15;S++)_t[S]=0;for($=0;$<l;$++)_t[x[O+$]]++;for(At=Ct,nt=15;1<=nt&&_t[nt]===0;nt--);if(nt<At&&(At=nt),nt===0)return _[c++]=20971520,_[c++]=20971520,h.bits=1,0;for(o=1;o<nt&&_t[o]===0;o++);for(At<o&&(At=o),S=at=1;S<=15;S++)if(at<<=1,(at-=_t[S])<0)return-1;if(0<at&&(T===0||nt!==1))return-1;for(mt[1]=0,S=1;S<15;S++)mt[S+1]=mt[S]+_t[S];for($=0;$<l;$++)x[O+$]!==0&&(v[mt[x[O+$]]++]=$);if(X=T===0?(W=Ut=v,19):T===1?(W=d,Et-=257,Ut=u,Vt-=257,256):(W=y,Ut=E,-1),S=o,et=c,It=$=V=0,L=-1,U=(Ot=1<<(ot=At))-1,T===1&&852<Ot||T===2&&592<Ot)return 1;for(;;){for(st=S-It,ht=v[$]<X?(Q=0,v[$]):v[$]>X?(Q=Ut[Vt+v[$]],W[Et+v[$]]):(Q=96,0),w=1<<S-It,o=B=1<<ot;_[et+(V>>It)+(B-=w)]=st<<24|Q<<16|ht|0,B!==0;);for(w=1<<S-1;V&w;)w>>=1;if(w!==0?(V&=w-1,V+=w):V=0,$++,--_t[S]==0){if(S===nt)break;S=x[O+v[$]]}if(At<S&&(V&U)!==L){for(It===0&&(It=At),et+=o,at=1<<(ot=S-It);ot+It<nt&&!((at-=_t[ot+It])<=0);)ot++,at<<=1;if(Ot+=1<<ot,T===1&&852<Ot||T===2&&592<Ot)return 1;_[L=V&U]=At<<24|ot<<16|et-c|0}}return V!==0&&(_[et+V]=S-It<<24|64<<16|0),h.bits=At,0}},{"../utils/common":41}],51:[function(C,Z,F){Z.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(C,Z,F){var m=C("../utils/common"),d=0,u=1;function y(p){for(var j=p.length;0<=--j;)p[j]=0}var E=0,T=29,x=256,O=x+1+T,l=30,_=19,c=2*O+1,v=15,h=16,w=7,B=256,L=16,U=17,et=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],st=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ct=new Array(2*(O+2));y(Ct);var S=new Array(2*l);y(S);var $=new Array(512);y($);var o=new Array(256);y(o);var nt=new Array(T);y(nt);var At,ot,It,at=new Array(l);function Ot(p,j,it,rt,M){this.static_tree=p,this.extra_bits=j,this.extra_base=it,this.elems=rt,this.max_length=M,this.has_stree=p&&p.length}function V(p,j){this.dyn_tree=p,this.max_code=0,this.stat_desc=j}function W(p){return p<256?$[p]:$[256+(p>>>7)]}function Et(p,j){p.pending_buf[p.pending++]=255&j,p.pending_buf[p.pending++]=j>>>8&255}function _t(p,j,it){p.bi_valid>h-it?(p.bi_buf|=j<<p.bi_valid&65535,Et(p,p.bi_buf),p.bi_buf=j>>h-p.bi_valid,p.bi_valid+=it-h):(p.bi_buf|=j<<p.bi_valid&65535,p.bi_valid+=it)}function mt(p,j,it){_t(p,it[2*j],it[2*j+1])}function Ut(p,j){for(var it=0;it|=1&p,p>>>=1,it<<=1,0<--j;);return it>>>1}function Vt(p,j,it){var rt,M,ut=new Array(v+1),wt=0;for(rt=1;rt<=v;rt++)ut[rt]=wt=wt+it[rt-1]<<1;for(M=0;M<=j;M++){var ft=p[2*M+1];ft!==0&&(p[2*M]=Ut(ut[ft]++,ft))}}function jt(p){var j;for(j=0;j<O;j++)p.dyn_ltree[2*j]=0;for(j=0;j<l;j++)p.dyn_dtree[2*j]=0;for(j=0;j<_;j++)p.bl_tree[2*j]=0;p.dyn_ltree[2*B]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function pt(p){8<p.bi_valid?Et(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Zt(p,j,it,rt){var M=2*j,ut=2*it;return p[M]<p[ut]||p[M]===p[ut]&&rt[j]<=rt[it]}function Lt(p,j,it){for(var rt=p.heap[it],M=it<<1;M<=p.heap_len&&(M<p.heap_len&&Zt(j,p.heap[M+1],p.heap[M],p.depth)&&M++,!Zt(j,rt,p.heap[M],p.depth));)p.heap[it]=p.heap[M],it=M,M<<=1;p.heap[it]=rt}function Bt(p,j,it){var rt,M,ut,wt,ft=0;if(p.last_lit!==0)for(;rt=p.pending_buf[p.d_buf+2*ft]<<8|p.pending_buf[p.d_buf+2*ft+1],M=p.pending_buf[p.l_buf+ft],ft++,rt===0?mt(p,M,j):(mt(p,(ut=o[M])+x+1,j),(wt=X[ut])!==0&&_t(p,M-=nt[ut],wt),mt(p,ut=W(--rt),it),(wt=st[ut])!==0&&_t(p,rt-=at[ut],wt)),ft<p.last_lit;);mt(p,B,j)}function Qt(p,j){var it,rt,M,ut=j.dyn_tree,wt=j.stat_desc.static_tree,ft=j.stat_desc.has_stree,St=j.stat_desc.elems,Nt=-1;for(p.heap_len=0,p.heap_max=c,it=0;it<St;it++)ut[2*it]!==0?(p.heap[++p.heap_len]=Nt=it,p.depth[it]=0):ut[2*it+1]=0;for(;p.heap_len<2;)ut[2*(M=p.heap[++p.heap_len]=Nt<2?++Nt:0)]=1,p.depth[M]=0,p.opt_len--,ft&&(p.static_len-=wt[2*M+1]);for(j.max_code=Nt,it=p.heap_len>>1;1<=it;it--)Lt(p,ut,it);for(M=St;it=p.heap[1],p.heap[1]=p.heap[p.heap_len--],Lt(p,ut,1),rt=p.heap[1],p.heap[--p.heap_max]=it,p.heap[--p.heap_max]=rt,ut[2*M]=ut[2*it]+ut[2*rt],p.depth[M]=(p.depth[it]>=p.depth[rt]?p.depth[it]:p.depth[rt])+1,ut[2*it+1]=ut[2*rt+1]=M,p.heap[1]=M++,Lt(p,ut,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(Tt,Yt){var he,re,ae,Mt,ye,ue,kt=Yt.dyn_tree,ve=Yt.max_code,de=Yt.stat_desc.static_tree,Be=Yt.stat_desc.has_stree,bt=Yt.stat_desc.extra_bits,Te=Yt.stat_desc.extra_base,ge=Yt.stat_desc.max_length,be=0;for(Mt=0;Mt<=v;Mt++)Tt.bl_count[Mt]=0;for(kt[2*Tt.heap[Tt.heap_max]+1]=0,he=Tt.heap_max+1;he<c;he++)ge<(Mt=kt[2*kt[2*(re=Tt.heap[he])+1]+1]+1)&&(Mt=ge,be++),kt[2*re+1]=Mt,ve<re||(Tt.bl_count[Mt]++,ye=0,Te<=re&&(ye=bt[re-Te]),ue=kt[2*re],Tt.opt_len+=ue*(Mt+ye),Be&&(Tt.static_len+=ue*(de[2*re+1]+ye)));if(be!==0){do{for(Mt=ge-1;Tt.bl_count[Mt]===0;)Mt--;Tt.bl_count[Mt]--,Tt.bl_count[Mt+1]+=2,Tt.bl_count[ge]--,be-=2}while(0<be);for(Mt=ge;Mt!==0;Mt--)for(re=Tt.bl_count[Mt];re!==0;)ve<(ae=Tt.heap[--he])||(kt[2*ae+1]!==Mt&&(Tt.opt_len+=(Mt-kt[2*ae+1])*kt[2*ae],kt[2*ae+1]=Mt),re--)}}(p,j),Vt(ut,Nt,p.bl_count)}function i(p,j,it){var rt,M,ut=-1,wt=j[1],ft=0,St=7,Nt=4;for(wt===0&&(St=138,Nt=3),j[2*(it+1)+1]=65535,rt=0;rt<=it;rt++)M=wt,wt=j[2*(rt+1)+1],++ft<St&&M===wt||(ft<Nt?p.bl_tree[2*M]+=ft:M!==0?(M!==ut&&p.bl_tree[2*M]++,p.bl_tree[2*L]++):ft<=10?p.bl_tree[2*U]++:p.bl_tree[2*et]++,ut=M,Nt=(ft=0)===wt?(St=138,3):M===wt?(St=6,3):(St=7,4))}function J(p,j,it){var rt,M,ut=-1,wt=j[1],ft=0,St=7,Nt=4;for(wt===0&&(St=138,Nt=3),rt=0;rt<=it;rt++)if(M=wt,wt=j[2*(rt+1)+1],!(++ft<St&&M===wt)){if(ft<Nt)for(;mt(p,M,p.bl_tree),--ft!=0;);else M!==0?(M!==ut&&(mt(p,M,p.bl_tree),ft--),mt(p,L,p.bl_tree),_t(p,ft-3,2)):ft<=10?(mt(p,U,p.bl_tree),_t(p,ft-3,3)):(mt(p,et,p.bl_tree),_t(p,ft-11,7));ut=M,Nt=(ft=0)===wt?(St=138,3):M===wt?(St=6,3):(St=7,4)}}y(at);var Y=!1;function g(p,j,it,rt){_t(p,(E<<1)+(rt?1:0),3),function(M,ut,wt,ft){pt(M),Et(M,wt),Et(M,~wt),m.arraySet(M.pending_buf,M.window,ut,wt,M.pending),M.pending+=wt}(p,j,it)}F._tr_init=function(p){Y||(function(){var j,it,rt,M,ut,wt=new Array(v+1);for(M=rt=0;M<T-1;M++)for(nt[M]=rt,j=0;j<1<<X[M];j++)o[rt++]=M;for(o[rt-1]=M,M=ut=0;M<16;M++)for(at[M]=ut,j=0;j<1<<st[M];j++)$[ut++]=M;for(ut>>=7;M<l;M++)for(at[M]=ut<<7,j=0;j<1<<st[M]-7;j++)$[256+ut++]=M;for(it=0;it<=v;it++)wt[it]=0;for(j=0;j<=143;)Ct[2*j+1]=8,j++,wt[8]++;for(;j<=255;)Ct[2*j+1]=9,j++,wt[9]++;for(;j<=279;)Ct[2*j+1]=7,j++,wt[7]++;for(;j<=287;)Ct[2*j+1]=8,j++,wt[8]++;for(Vt(Ct,O+1,wt),j=0;j<l;j++)S[2*j+1]=5,S[2*j]=Ut(j,5);At=new Ot(Ct,X,x+1,O,v),ot=new Ot(S,st,0,l,v),It=new Ot(new Array(0),Q,0,_,w)}(),Y=!0),p.l_desc=new V(p.dyn_ltree,At),p.d_desc=new V(p.dyn_dtree,ot),p.bl_desc=new V(p.bl_tree,It),p.bi_buf=0,p.bi_valid=0,jt(p)},F._tr_stored_block=g,F._tr_flush_block=function(p,j,it,rt){var M,ut,wt=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(ft){var St,Nt=4093624447;for(St=0;St<=31;St++,Nt>>>=1)if(1&Nt&&ft.dyn_ltree[2*St]!==0)return d;if(ft.dyn_ltree[18]!==0||ft.dyn_ltree[20]!==0||ft.dyn_ltree[26]!==0)return u;for(St=32;St<x;St++)if(ft.dyn_ltree[2*St]!==0)return u;return d}(p)),Qt(p,p.l_desc),Qt(p,p.d_desc),wt=function(ft){var St;for(i(ft,ft.dyn_ltree,ft.l_desc.max_code),i(ft,ft.dyn_dtree,ft.d_desc.max_code),Qt(ft,ft.bl_desc),St=_-1;3<=St&&ft.bl_tree[2*ht[St]+1]===0;St--);return ft.opt_len+=3*(St+1)+5+5+4,St}(p),M=p.opt_len+3+7>>>3,(ut=p.static_len+3+7>>>3)<=M&&(M=ut)):M=ut=it+5,it+4<=M&&j!==-1?g(p,j,it,rt):p.strategy===4||ut===M?(_t(p,2+(rt?1:0),3),Bt(p,Ct,S)):(_t(p,4+(rt?1:0),3),function(ft,St,Nt,Tt){var Yt;for(_t(ft,St-257,5),_t(ft,Nt-1,5),_t(ft,Tt-4,4),Yt=0;Yt<Tt;Yt++)_t(ft,ft.bl_tree[2*ht[Yt]+1],3);J(ft,ft.dyn_ltree,St-1),J(ft,ft.dyn_dtree,Nt-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,wt+1),Bt(p,p.dyn_ltree,p.dyn_dtree)),jt(p),rt&&pt(p)},F._tr_tally=function(p,j,it){return p.pending_buf[p.d_buf+2*p.last_lit]=j>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&j,p.pending_buf[p.l_buf+p.last_lit]=255&it,p.last_lit++,j===0?p.dyn_ltree[2*it]++:(p.matches++,j--,p.dyn_ltree[2*(o[it]+x+1)]++,p.dyn_dtree[2*W(j)]++),p.last_lit===p.lit_bufsize-1},F._tr_align=function(p){_t(p,2,3),mt(p,B,Ct),function(j){j.bi_valid===16?(Et(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(C,Z,F){Z.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(C,Z,F){(function(m){(function(d,u){if(!d.setImmediate){var y,E,T,x,O=1,l={},_=!1,c=d.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(d);v=v&&v.setTimeout?v:d,y={}.toString.call(d.process)==="[object process]"?function(L){process.nextTick(function(){w(L)})}:function(){if(d.postMessage&&!d.importScripts){var L=!0,U=d.onmessage;return d.onmessage=function(){L=!1},d.postMessage("","*"),d.onmessage=U,L}}()?(x="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",B,!1):d.attachEvent("onmessage",B),function(L){d.postMessage(x+L,"*")}):d.MessageChannel?((T=new MessageChannel).port1.onmessage=function(L){w(L.data)},function(L){T.port2.postMessage(L)}):c&&"onreadystatechange"in c.createElement("script")?(E=c.documentElement,function(L){var U=c.createElement("script");U.onreadystatechange=function(){w(L),U.onreadystatechange=null,E.removeChild(U),U=null},E.appendChild(U)}):function(L){setTimeout(w,0,L)},v.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var U=new Array(arguments.length-1),et=0;et<U.length;et++)U[et]=arguments[et+1];var X={callback:L,args:U};return l[O]=X,y(O),O++},v.clearImmediate=h}function h(L){delete l[L]}function w(L){if(_)setTimeout(w,0,L);else{var U=l[L];if(U){_=!0;try{(function(et){var X=et.callback,st=et.args;switch(st.length){case 0:X();break;case 1:X(st[0]);break;case 2:X(st[0],st[1]);break;case 3:X(st[0],st[1],st[2]);break;default:X.apply(u,st)}})(U)}finally{h(L),_=!1}}}}function B(L){L.source===d&&typeof L.data=="string"&&L.data.indexOf(x)===0&&w(+L.data.slice(x.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Jn)),Jn.exports}export{er as D,Rr as _,wi as a,si as g,ki as r};
//# sourceMappingURL=vendor-Cc5w31rP.js.map
